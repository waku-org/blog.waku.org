<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://waku.org/</id>
    <title>Waku Blog</title>
    <updated>2024-05-20T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://waku.org/"/>
    <subtitle>Waku Blog</subtitle>
    <icon>https://waku.org/theme/image/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Permissionless Community Creation]]></title>
        <id>https://waku.org/permissionless-community-creation</id>
        <link href="https://waku.org/permissionless-community-creation"/>
        <updated>2024-05-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[An overview of the foundational requirements of permissionless communities and Waku's research on autosharding to enhance decentralisation, privacy, and scalability.]]></summary>
        <content type="html"><![CDATA[<p>An overview of the foundational requirements of permissionless communities and Waku's research on autosharding to enhance decentralisation, privacy, and scalability.</p><p>There is no one-size-fits-all approach to building permissionless communities. Indeed, Waku and other projects are still researching the best ways to enable such communities while retaining decentralisation, privacy protection, and censorship resistance. The following blog post will discuss the fundamental requirements of peer-to-peer systems, analysing the strengths and weaknesses of federated models before delving into Waku's cutting-edge research on autosharding and its potential to enable permissionless communities to scale exponentially. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fundamentals-of-peer-to-peer-systems">Fundamentals of peer-to-peer systems<a href="#fundamentals-of-peer-to-peer-systems" class="hash-link" aria-label="Direct link to Fundamentals of peer-to-peer systems" title="Direct link to Fundamentals of peer-to-peer systems">​</a></h2><p>Peer-to-peer decentralised systems have several core components required to function:</p><ul><li>Bootstrapping: a way for a new node to enter the network. </li></ul><p>This process typically involves obtaining a list of node addresses, enabling the new node to connect with existing ones. Various approaches to bootstrapping exist, such as hardcoding the list of addresses into the system's code, utilising a dynamic method, or posting the list on a DNS record. Regardless of the method chosen, bootstrapping is essential for enabling new nodes to join the network.</p><ul><li>Peer discovery: a way for nodes in the network to discover other nodes.</li></ul><p>Peer discovery mechanisms allow nodes to find and establish connections with peers dynamically. This ensures that the network remains robust and resilient, avoiding bottlenecks that could arise from relying solely on a fixed set of bootstrap nodes. Peer discovery mechanisms vary depending on the specific requirements of the decentralised system but are essential for maintaining the network's integrity and scalability.</p><ul><li>Peer-to-peer transport: a way for two nodes to communicate with each other to execute the demands of the network. </li></ul><p>This communication can take various forms, depending on the nature of the decentralised system. For example, in a file-sharing network like BitTorrent, nodes exchange file chunks directly, allowing for efficient transmission of large files. In blockchain networks, nodes communicate by exchanging transactions and blocks, facilitating consensus and maintaining the integrity of the distributed ledger. Peer-to-peer transport could also happen through a broadcast system based on peers congregating around publish-subscribe topics, i.e. a message is published to a topic and broadcast to all peers subscribed to the same topic.</p><p>These are the building blocks for any decentralised peer-to-peer network. Decentralisation is not an objective in itself but a way to ensure a system is resilient, permissionless, censorship-resistant, and private. The properties discussed are requirements for such a system's foundation, but additional requirements exist.</p><p>Hence, for a chat protocol to be resilient, permissionless, censorship-resistant and private, the three pillars must be implemented: decentralised bootstrapping, decentralised peer discovery, and unmediated peer-to-peer transport. One example of such a system that does this would be the federated system, Matrix.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-federated-approach">The federated approach<a href="#the-federated-approach" class="hash-link" aria-label="Direct link to The federated approach" title="Direct link to The federated approach">​</a></h2><p>Federated chat solutions such as Matrix provide the software infrastructure, primarily through clients like Element, enabling any community owner to run or request an operator to run server software. This approach decentralises the hosting of communication servers, allowing for greater autonomy and flexibility within communities. Users connect to specific hosting server instances in the ecosystem to engage with their respective communities. The domain name of the hosting server, such as matrix.org, is included in each user's name, facilitating cross-community and one-to-one chats seamlessly.</p><p>With a federated approach, there is a lack of participation and sender anonymity due to the localised centralisation around communication servers. The servers can log users' IP addresses, and observant parties can track user connections to such servers. Since users connect directly to their community servers to send messages, these servers may link IP addresses with message metadata.</p><p>Such a topology is also vulnerable to censorship; if a user's home server instance goes offline, they will experience service interruption. Moreover, if authorities seize the domain name, the entire community hosted on that server will be affected.</p><p>While federated systems usually have a permissionless approach, anyone is able to run and host server software and each separate instance is a centralised system in itself. This comes with a number of drawbacks in terms of privacy and de-platforming risk both for end users and server administrators.</p><p>A strategy can be implemented to enable users to back up their data on an alternative instance, but this usually does not help with privacy and only postpones the issue of censorship resistance. In other words, there is no easy path to solving those problems without changing the entire message routing layer.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wakus-message-routing-layer">Waku's message routing layer<a href="#wakus-message-routing-layer" class="hash-link" aria-label="Direct link to Waku's message routing layer" title="Direct link to Waku's message routing layer">​</a></h2><p>To solve privacy and censorship-resistance issues, Waku uses GossipSub as a message routing protocol.</p><p>Nodes in the network connect to each other and forward messages they receive from peers. Contrary to FloodSub, used by Whisper, GossipSub only forwards messages to a small set of nodes (the recommended number of nodes for Waku is four), meaning that while there is some amplification, it is limited to save bandwidth.</p><p>As long as the metadata on each message is limited, it becomes difficult for an observer to find the sender of a particular message in this model. Moreover, as all nodes in the GossipSub network receive all messages, the recipient can also benefit from anonymity.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="using-static-sharding-to-scale-waku">Using static sharding to scale Waku<a href="#using-static-sharding-to-scale-waku" class="hash-link" aria-label="Direct link to Using static sharding to scale Waku" title="Direct link to Using static sharding to scale Waku">​</a></h2><p>A common message routing layer does not scale as the nodes receive every message. This could function for up to thousands of users, but beyond this, the bandwidth demand for each node would likely exceed the average household bandwidth. Excluding nodes with lower bandwidth from the network would then impact the decentralisation of the routing network.</p><p>Instead of having one relay network, Waku sharding splits the message routing network into several GossipSub topics so that the end user is not required to relay all of the applications' traffic but rather just the subset of traffic on the same shard. </p><p>With static sharding, the logic for dispatching messages on the correct shard is naive: a community or application is assigned a shard, and each shard is used by only one application or community. To provide some basic DoS protection, the application or community owner distributes a private key to all members or users, which they use to sign messages.</p><p>This enables nodes in the shard to only relay messages from legitimate publishers (i.e. members of the community) while preserving some anonymity properties. Senders cannot be identified by their signatures, as all senders use the same private key.</p><p>However, the current implementation of static sharding faces several challenges regarding privacy, censorship resistance and permissionless participation.</p><p><strong>Bootstrapping </strong></p><p>While passing multiple bootstrap node lists with several FQDNs to a Waku node is possible, further research is needed to enable truly decentralised bootstrapping. </p><p><strong>Peer discovery dynamics</strong></p><p>Waku leverages discv5 for peer discovery, a decentralised solution that enables privacy and censorship-resistance. However, decentralised discovery of capability, such as finding nodes with specific protocols like store and filter, is an area that needs improvement.</p><p><strong>Peer-to-peer transport considerations</strong></p><p>The current approach for providing predictable scalability per Status Community is to statically assign an individual shard to each community; no shard would be assigned to multiple communities. This implies a shard assignment process, which poses a hurdle. Overall, Waku's implementation has validated our assumptions that static sharding provides a useful stepping stone to an architecture where communities share shards. The approach includes features such as autosharding, enabling multiple communities to use the same set of shards without needing to consider shard assignments. Additionally, RLN will be implemented to provide DoS protection on the shared shards. It also validates our assumptions about discv5 in the context of shards and capabilities.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="future-improvements-autosharding-and-rln">Future improvements: Autosharding and RLN<a href="#future-improvements-autosharding-and-rln" class="hash-link" aria-label="Direct link to Future improvements: Autosharding and RLN" title="Direct link to Future improvements: Autosharding and RLN">​</a></h2><p>Static sharding on Waku is being rolled out to around 100 communities, with predictable scalability per community. The team is researching several sharding strategies to scale the rollout to more communities by enabling the sharing of shards, including autosharding and <a href="https://github.com/vacp2p/rfc-index" target="_blank" rel="noopener noreferrer">rate limit nullifiers</a> (RLN). </p><p>Autosharding will help abstract routing and sharding decisions away from communities and applications while providing an easy way for communities to share a bounded number of shards. This will allow the network to maintain a manageable number of shards, ideally under 100. Our research indicates the network can accommodate unlimited communities as long as the total user count remains below 1 million. New research will be necessary to extend discv5 or explore alternative systems for scalability beyond this threshold.</p><p>It is important to note that as a new technology, Waku's reliance on RLN introduces some risk. However, the Waku team is committed to hardening RLN and fostering its adoption by other projects and users, thus mitigating this concern over time.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="become-a-part-of-the-waku-ecosystem">Become a part of the Waku ecosystem<a href="#become-a-part-of-the-waku-ecosystem" class="hash-link" aria-label="Direct link to Become a part of the Waku ecosystem" title="Direct link to Become a part of the Waku ecosystem">​</a></h2><p>The Waku research team made significant discoveries during their dogfooding of the Wau network. RLN provides DoS protections that do not compromise privacy or censorship resistance and can enable permissionless communities to scale to millions of users. </p><p>To integrate Waku into your application, check the table below for the necessary links. You can always get further support from us on <a href="/discord.waku.org">Discord</a>.</p><table><tbody><tr><td></td><td><strong>Integrate Waku into your application</strong></td></tr><tr><td>docs</td><td><a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">https://docs.waku.org</a></td></tr><tr><td>nwaku</td><td><a href="https://github.com/waku-org/nwaku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/nwaku</a></td></tr><tr><td>browser (JS/TS)</td><td><a href="https://github.com/waku-org/js-waku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/js-waku</a></td></tr><tr><td>Go</td><td><a href="https://github.com/waku-org/go-waku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/go-waku</a></td></tr><tr><td>Rust</td><td><a href="https://github.com/waku-org/waku-rust-bindings" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/waku-rust-bindings</a></td></tr></tbody></table>]]></content>
        <author>
            <name>Amelia Trapp</name>
        </author>
        <author>
            <name>Franck</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Deep Dive Into The Graph: Powered by Waku]]></title>
        <id>https://waku.org/thegraph-waku-case-study</id>
        <link href="https://waku.org/thegraph-waku-case-study"/>
        <updated>2024-05-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn more about how The Graph uses Waku to build a decentralised data querying layer for blockchains]]></summary>
        <content type="html"><![CDATA[<p>Learn more about how The Graph uses Waku to build a decentralised data querying layer for blockchains</p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="TheGraph Case Study" src="/assets/images/thegraph-18e105fa475509a1df068c049b530a78.png" width="1920" height="1080" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>Indexing blockchain data can be challenging for projects with complex smart contracts. Managing and querying the vast data generated has become a significant challenge as the blockchain ecosystem proliferates.</p><p>The inherent properties of blockchain pose unique challenges when it comes to retrieving and querying data effectively. Some of the challenges include:</p><ul><li><p><strong>Blockchain finality</strong>: refers to the irreversible acceptance of a transaction or block into the canonical chain, which can complicate the querying process. </p></li><li><p><strong>Chain reorganisations</strong> refer to situations where the canonical chain is revised due to competing blocks. This block revision, in turn, introduces uncertainties that must be accounted for.</p></li><li><p><strong>Uncled blocks</strong> refer to valid blocks not included in the canonical chain. These blocks complicate retrieving accurate and consistent query results from blockchain data. </p></li></ul><p>These peculiarities of blockchain architecture make querying data time-consuming and conceptually complex, requiring specialised solutions to navigate seamlessly. </p><p>What is our solution? The Graph. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gateway-to-querying-web3-data---the-graph">Gateway to querying web3 data - The Graph<a href="#gateway-to-querying-web3-data---the-graph" class="hash-link" aria-label="Direct link to Gateway to querying web3 data - The Graph" title="Direct link to Gateway to querying web3 data - The Graph">​</a></h2><p>The Graph aims to be the querying layer for blockchains. It intends to create a decentralised protocol for indexing and querying blockchain data. The Graph is similar to a middleware layer that indexes data from blockchains and storage networks, making it easily accessible and queryable without much hassle.</p><p>There are various segments within The Graph Protocol:</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-data-indexing-segment">1. Data Indexing Segment:<a href="#1-data-indexing-segment" class="hash-link" aria-label="Direct link to 1. Data Indexing Segment:" title="Direct link to 1. Data Indexing Segment:">​</a></h3><ul><li><strong>Subgraphs:</strong> The open-source GraphQL schemas that define the data requirements and mapping rules.</li><li><strong>Indexers:</strong> The nodes responsible for processing blockchain data based on the subgraph specifications and storing the indexed data in a queryable format.</li><li><strong>Curators:</strong> The participants who signal the importance of specific subgraphs by staking tokens and incentivising indexers to prioritise indexing those subgraphs.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-data-querying-segment">2. Data Querying Segment:<a href="#2-data-querying-segment" class="hash-link" aria-label="Direct link to 2. Data Querying Segment:" title="Direct link to 2. Data Querying Segment:">​</a></h3><ul><li><strong>Query Node:</strong> The stateless component that serves as the entry point for querying the indexed data routing GraphQL queries to the appropriate indexers.</li><li><strong>Graph Explorer:</strong> The graphical user interface allowing developers and users to explore and interact with the indexed data, execute GraphQL queries, and visualise the subgraph schemas.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-network-and-governance-segment">3. Network and Governance Segment:<a href="#3-network-and-governance-segment" class="hash-link" aria-label="Direct link to 3. Network and Governance Segment:" title="Direct link to 3. Network and Governance Segment:">​</a></h3><ul><li><strong>The Graph Network:</strong> The decentralised network of indexers, curators, and other participants contributing to indexing and querying blockchain data, operating on the Waku messaging protocol.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="proof-of-indexing">Proof of Indexing<a href="#proof-of-indexing" class="hash-link" aria-label="Direct link to Proof of Indexing" title="Direct link to Proof of Indexing">​</a></h2><p>Proof of Indexing is a mechanism The Graph uses to ensure the integrity and reliability of the indexed data within its ecosystem. It is closely related to the core functionality of The Graph Protocol.</p><p>Proof of Indexing works by having indexers periodically submit a proof that they have correctly indexed the data specified by the assigned subgraphs. These proofs are cryptographic hashes that summarise the indexed data, allowing other nodes in the network to verify the correctness of the indexing process without having to re-index the entire data themselves.</p><p>The role of Proof of Indexing is twofold:</p><ol><li><p><strong>Data Integrity:</strong> By requiring indexers to submit proofs, The Graph ensures that the indexed data is accurate and consistent across the decentralised network of indexers. This helps maintain the reliability and trustworthiness of the indexed data, which is crucial for applications built on top of The Graph.</p></li><li><p><strong>Indexer Accountability:</strong> Proof of Indexing holds indexers accountable for their work. Indexers who fail to submit valid proofs or are caught submitting incorrect proofs can face penalties, such as slashing their staked tokens or removal from the indexing pool. This incentivises indexers to perform their indexing duties honestly and accurately.</p></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="core-developer-teams-in-the-graph-ecosystem">Core developer teams in The Graph ecosystem<a href="#core-developer-teams-in-the-graph-ecosystem" class="hash-link" aria-label="Direct link to Core developer teams in The Graph ecosystem" title="Direct link to Core developer teams in The Graph ecosystem">​</a></h2><p>Multiple teams work on various focus areas within The Graph. <a href="https://graphops.xyz" target="_blank" rel="noopener noreferrer">GraphOps</a> is one of the teams focusing on data indexing. GraphOps leverages Waku for a unique use case in <a href="https://thegraph.com/blog/subgraph-radio-information-exchange/" target="_blank" rel="noopener noreferrer">'subgraph radios'</a>, which we will explain in detail.</p><p>Subgraph radios are a feature introduced by Graphcast that allows real-time streaming of data updates and events from The Graph's indexed subgraphs. They bridge The Graph's indexed data and Graphcast's event processing framework, making subgraph radios a key component of Graphcast's real-time data streaming and event processing capabilities.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-is-graphcast">What is Graphcast?<a href="#what-is-graphcast" class="hash-link" aria-label="Direct link to What is Graphcast?" title="Direct link to What is Graphcast?">​</a></h2><p>The Graph is a decentralised indexing layer that does not rely on centralised communications. Graphcast was introduced to provide uncompromised communications in The Graph's indexing solution. </p><p>Before the GraphOps team introduced Graphcast, the majority of the indexing solutions used three ways to communicate:</p><p><strong>1. Onchain communications:</strong> Expensive and inefficient regarding scalability as the users need to pay gas for every state change.</p><p><strong>2. Old-fashioned group chat:</strong> It is highly dependent on Web2 communications, which have a single point of failure and higher security risks.</p><p><strong>3. Automated bots:</strong> Several indexer bots running on centralised servers to automate communication on event signalling.</p><p>All three solutions listed above could have been more efficient. Hence, we wanted a more robust and decentralised communications infrastructure to fix several issues. The core contributors of GraphOps mention that Waku is an obvious choice for solving this problem. Continue reading to learn more about how Graphcast uses Waku.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-does-the-graph-use-waku">How does The Graph use Waku?<a href="#how-does-the-graph-use-waku" class="hash-link" aria-label="Direct link to How does The Graph use Waku?" title="Direct link to How does The Graph use Waku?">​</a></h2><p>Waku is one of the foundational technologies used to build Graphcast, a domain-specific gossip network for indexers.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="waku-as-an-infrastructure-for-decentralised-indexing">Waku as an infrastructure for decentralised indexing<a href="#waku-as-an-infrastructure-for-decentralised-indexing" class="hash-link" aria-label="Direct link to Waku as an infrastructure for decentralised indexing" title="Direct link to Waku as an infrastructure for decentralised indexing">​</a></h3><p>To maintain the decentralised nature of its infrastructure, The Graph leverages <a href="https://waku.org" target="_blank" rel="noopener noreferrer">Waku</a>, a family of decentralised Web3 communications protocols, for communication between its indexers. Indexers are responsible for processing blockchain data and creating queryable subgraphs.</p><p>Waku enables indexers to communicate and sync data peer-to-peer, eliminating the need for centralised servers or intermediaries. This approach aligns with the decentralisation principles and censorship resistance underpinning Web3.</p><p>By utilising Waku, The Graph ensures that its indexing infrastructure remains decentralised, resilient, and resistant to single points of failure. This not only enhances the security and reliability of The Graph's services but also upholds the core values of Web3, fostering a truly decentralised ecosystem for data indexing and querying.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-waku-implementation-used-for-graphcast">The Waku implementation used for Graphcast<a href="#the-waku-implementation-used-for-graphcast" class="hash-link" aria-label="Direct link to The Waku implementation used for Graphcast" title="Direct link to The Waku implementation used for Graphcast">​</a></h3><p>Waku provides <a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">several implementations</a> that apply to various use cases based on resource availability. Graphcast uses Waku's Rust bindings. In Graphcast's Waku integration, all downstream radios act as Waku relay nodes. Graphcast uses its unique pubsub topic. The GraphOps team also operates their own <code>nwaku</code> fleet in addition to the already-existing Waku nodes that support Graphcast's pubsub topic.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="subgraph-versioning-with-waku">Subgraph versioning with Waku<a href="#subgraph-versioning-with-waku" class="hash-link" aria-label="Direct link to Subgraph versioning with Waku" title="Direct link to Subgraph versioning with Waku">​</a></h3><p>GraphOps core contributors also mentioned they face difficulties with subgraph versioning. These difficulties revolve around syncing the subgraph data based on the correct versions.</p><p>The core contributors are also interested in exploring <code>js-waku</code>- a light node implementation of Waku - to create a web interface that allows sending messages to the Graphcast network to sync the subgraph data based on the correct versions. </p><p>This is another fantastic use case that Waku provides to Graphcast, providing private, robust, and reliable communication.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="closing-words">Closing words<a href="#closing-words" class="hash-link" aria-label="Direct link to Closing words" title="Direct link to Closing words">​</a></h2><p>The Graph is one of the most widely used projects in the Web3 space. Waku's unique use case of decentralising their indexers with a peer-to-peer network is one of a kind, and only a limited number of Web3 infrastructure projects implement such a high degree of decentralisation in their indexers. <a href="https://thegraph.com" target="_blank" rel="noopener noreferrer">TheGraph</a> has introduced a novel use case to the space, and the Waku team is happy to help other projects decentralise their communications infrastructure.</p><p>Join our <a href="https://discord.waku.org" target="_blank" rel="noopener noreferrer">Discord community</a>, and our core contributors will be happy to assist you in getting started with Waku.</p>]]></content>
        <author>
            <name>Guru</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[April Progress Report]]></title>
        <id>https://waku.org/April-progress</id>
        <link href="https://waku.org/April-progress"/>
        <updated>2024-05-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Highlights from the Waku team in April 2024.]]></summary>
        <content type="html"><![CDATA[<p>Highlights from the Waku team in April 2024.</p><p>Welcome to the monthly Waku progress report. The EcoDev group at Waku covers community, growth, partnerships, and communications. The Research and Development group covers the academic and engineering research that supports Waku’s development, as well as the core team of Waku engineers building the protocols. Each month, we will share the key highlights and progress of the teams. You can <a href="https://waku.org/subscribe/" target="_blank" rel="noopener noreferrer">subscribe</a> to the monthly newsletter if you prefer to receive an abridged version of these updates in your inbox.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">​</a></h2><p><strong>ETHDam 12th - 14th April</strong></p><p>After a busy hackathon in Amsterdam that included the <a href="https://www.youtube.com/watch?v=K1S0Zzzeiqo" target="_blank" rel="noopener noreferrer">workshop</a> “Privacy-preserving web3 communications at scale with Waku”, we announced the <a href="https://twitter.com/Waku_org/status/1780243018173325819" target="_blank" rel="noopener noreferrer">ETHDam hackathon winners</a>. Team <a href="https://taikai.network/cryptocanal/hackathons/ethdam2024/projects/cluxse8cz00pjz3010wbq3thf/idea" target="_blank" rel="noopener noreferrer">StealthAlloc</a> claimed first place with their platform that bridges creators and DAOs to ensure confidential voting and fair allocations for quadratic funding. The team integrated Waku to support private communication channels between DAO treasuries and funding pools.</p><p>The runners-up <a href="https://taikai.network/cryptocanal/hackathons/ethdam2024/projects/cluz9mmr1016cyz01g3iry70i/idea" target="_blank" rel="noopener noreferrer">Brain Crypto Interfaces</a> suggests using incentives for uploading brain data to improve open-source classification models. The team used Waku to facilitate private and secure communications between users. </p><p><strong>Web3 Family Conference 17th - 19th April</strong></p><p>Software Engineer Ivan spoke at Web3 Family Conference in Barcelona, delivering the talk “Waku – The Web3 Communication Layer uring on Web3Family’s”. He also spoke on the panel “Privacy in Web3” alongside Web3rivacy Now and zkSync. </p><p><strong>Privacy Reunion 24th April</strong></p><p><a href="https://twitter.com/Waku_org/status/1783170168597688746" target="_blank" rel="noopener noreferrer">Waku Eco Dev Team Lead Marina</a> moderated the panel "The Next Privacy Paradigm for Ethereum and Rollups” at Privacy Reunion in Barcelona alongside Codex, zkSync, and Ethereum speakers. Notably, she commented: “To support the privacy sector, we need to help everyone understand that it’s not about having nothing to hide; it’s about choosing what to share."</p><p><strong>Waku Strategy and Planning Week </strong></p><p>The Waku team <a href="https://twitter.com/Waku_org/status/1775784705666818335" target="_blank" rel="noopener noreferrer">came together</a> in Athens for a week of strategising, workshopping, and planning for the year. The team has developed a roadmap for the rest of 2024, which will be made public soon.</p><p><strong>Upcoming Events</strong></p><p>Bookmark <a href="/walu.org/events">waku.org/event</a>s, where we’ll be adding more information about upcoming events. </p><table><tbody><tr><td><strong>Event</strong></td><td><strong>Date</strong></td><td><strong>Location</strong></td><td><strong>Engagement type</strong></td></tr><tr><td><a href="https://events.geekle.us/wsas/" target="_blank" rel="noopener noreferrer">Worldwide</a><a href="https://events.geekle.us/wsas/" target="_blank" rel="noopener noreferrer">Software Architecture</a><a href="https://events.geekle.us/wsas/" target="_blank" rel="noopener noreferrer">Summit 2024</a></td><td>7th - 8th May</td><td>Online</td><td>Presentation from Vaclav</td></tr><tr><td><a href="https://www.ethbratislava.com/" target="_blank" rel="noopener noreferrer">ETHBratislava</a></td><td>10th - 11th May</td><td>Bratislava, Slovakia</td><td>Presentation from Vaclav</td></tr><tr><td><a href="https://dlt2024.di.unito.it/" target="_blank" rel="noopener noreferrer">6th Distributed Ledger Technologies Workshop</a></td><td>14th - 15th May</td><td>Turin, Italy</td><td>Presenting our academic paper</td></tr><tr><td><a href="https://www.dappcon.io/" target="_blank" rel="noopener noreferrer">Dappcon</a></td><td>21st - 23rd May</td><td>Berlin, Germany</td><td>Event sponsors with booth, and a presentation from Vaclav</td></tr><tr><td><a href="https://web3privacy.info/event/m24ber/" target="_blank" rel="noopener noreferrer">Web3PrivacyNow &lt;&gt; Waku meetup</a></td><td>22nd May</td><td>Berlin, Germany</td><td>Co-hosting the meetup, Vaclav and Sergei will also be presenting</td></tr><tr><td><a href="https://ethberlin.org/" target="_blank" rel="noopener noreferrer">ETHBerlin</a></td><td>24th - 26th May</td><td>Berlin, Germany</td><td>Sergei is giving a workshop on Waku and mentoring the hackathon. Pedro will also be attending to meet projects interested in integrating Waku.</td></tr><tr><td><a href="https://web3privacy.info/event/s24prg/" target="_blank" rel="noopener noreferrer">Web3PrivacyNow Summit</a></td><td>30th May</td><td>Berlin, Germany</td><td>Presentation from Vaclav</td></tr><tr><td><a href="https://ethprague.com/" target="_blank" rel="noopener noreferrer">ETHPrague</a></td><td>31st May - 2nd June</td><td>Prague, Czech Republic</td><td>Pedro, Vaclav, Sasha, and Guru will attend to hack and meet projects interested in integrating Waku.</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reads-and-learning-resources">Reads and learning resources<a href="#reads-and-learning-resources" class="hash-link" aria-label="Direct link to Reads and learning resources" title="Direct link to Reads and learning resources">​</a></h2><p><strong>Ecosystem Spotlight: RAILGUN </strong></p><p>Ethereum does not provide privacy by default; every transactional data in the Ethereum network is transparent. RAILGUN is an on-chain privacy system built for EVM-based blockchains. The RAILGUN community claims the project to be the only uncompromising on-chain privacy solution with unparalleled encryption, security, and with DeFi functionality on par with other leading wallets.</p><p><a href="https://twitter.com/Waku_org/status/1783845021583601783" target="_blank" rel="noopener noreferrer">Learn more</a> about how RAILGUN uses Waku to build a privacy layer on top of EVM-based chains. You can also learn more in this our <a href="https://www.youtube.com/watch?v=SbgslZxyV3M" target="_blank" rel="noopener noreferrer">Ecosystem Spotlight video</a>.</p><p><strong>Waku’s origin story</strong></p><p>After the development of the Ethereum subprotocol Whisper was abandoned, Status suffered platform risk consequences. Vac helped engineer a new GossipSub protocol that could scale to meet Status' needs. Waku was born from the demand for a privacy-preserving, scalable communications layer.</p><p><a href="https://twitter.com/Waku_org/status/1782388932828709314" target="_blank" rel="noopener noreferrer">Learn more</a> about Waku’s origin story.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="news">News<a href="#news" class="hash-link" aria-label="Direct link to News" title="Direct link to News">​</a></h2><p>In an effort to protect digital privacy, the Logos technology stack, including Waku, has entered into <a href="https://twitter.com/Logos_network/status/1780255677836923133" target="_blank" rel="noopener noreferrer">a strategic partnership with Web3 Privacy Now</a>. The projects will launch initiatives to fortify data protection mechanisms, empower users with greater control of their data, and instil a commitment to privacy in web3 true to its cypherpunk roots.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="research-and-development">Research and Development<a href="#research-and-development" class="hash-link" aria-label="Direct link to Research and Development" title="Direct link to Research and Development">​</a></h2><p><strong>Store v3</strong></p><p>The Store protocol is how nodes in the Waku network can be queried on their message history. The development team has achieved incentivisation for the latest version of Store and is working on the proof of concept. They are also working to add message hashes to the protocol. </p><p><strong>RLN v2</strong></p><p>Rate Limit Nullifiers (RLN) are based on zero-knowledge proofs and enable message rate-limiting in the Waku Network while preserving users' anonymity. The development team is working on RLN v2, which enables functionality on resource-restricted devices. The team has deployed a <a href="https://github.com/alrevuelta/go-waku-light/pull/2" target="_blank" rel="noopener noreferrer">new Merkle tree integration</a> (LazyIMT) and a <a href="https://github.com/vacp2p/rln-contract/pull/31" target="_blank" rel="noopener noreferrer">new version of the contract</a> using the tree. The PoC that uses<a href="https://github.com/privacy-scaling-explorations/zk-kit/pull/162" target="_blank" rel="noopener noreferrer"> Merkle proofs from the contract</a> has been merged, allowing roots and Merkle proofs on-chain in exchange for increased gas costs.</p><p><strong>JSON RPC Deprecated</strong></p><p>Waku nodes have migrated from using a <a href="https://waku-org.github.io/waku-rest-api/" target="_blank" rel="noopener noreferrer">JSON RPC to REST API</a>. We have updated our tests accordingly and successfully deprecated <a href="https://waku-org.github.io/waku-rest-api/" target="_blank" rel="noopener noreferrer">JSON RPC</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="milestones">Milestones<a href="#milestones" class="hash-link" aria-label="Direct link to Milestones" title="Direct link to Milestones">​</a></h2><p>Below are status updates and links to the progress report for each Waku engineering milestone. </p><p><a href="https://github.com/waku-org/pm/issues/114" target="_blank" rel="noopener noreferrer">Composing Waku Protocols to Improve Reliability</a></p><p>Status: In Progress</p><p>Successfully ensured js-waku protocol implementations in @waku/core are as unopinionated as possible.</p><p><a href="https://github.com/waku-org/pm/issues/152" target="_blank" rel="noopener noreferrer">Operator Feature Requests</a></p><p>Status: In Progress</p><p>Completed a detailed JSON report on /health endpoint for nwaku. Also ensured that extend node is ready with more mature checks and result returned.</p><p><a href="https://github.com/waku-org/pm/issues/121" target="_blank" rel="noopener noreferrer">Bindings (Rust, NodeJS, Golang)</a></p><p>Status: In Progress</p><p><a href="https://github.com/waku-org/pm/issues/66" target="_blank" rel="noopener noreferrer">Node Bandwidth Management Mechanism</a></p><p>Status: In Progress</p><hr><h1>Community Call</h1><p>Waku hosts a Community Call on X during the last week of each month. The objective of the call is to update the community on our progress and provide a space where questions can be put directly to the team.</p><p>The Community Call took place on the 26th March. You can <a href="https://x.com/Waku_org/status/1783888975867908582" target="_blank" rel="noopener noreferrer">listen back to the full Space</a> and read the highlights below. <a href="https://twitter.com/hackyguru" target="_blank" rel="noopener noreferrer">Guru</a> and <a href="https://twitter.com/vpavlin" target="_blank" rel="noopener noreferrer">Vaclav</a> from the Waku team led the call. They were also joined by <a href="https://twitter.com/mesquka" target="_blank" rel="noopener noreferrer">Kieran</a> from RAILGUN. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-railgun-chose-waku">Why RAILGUN chose Waku<a href="#why-railgun-chose-waku" class="hash-link" aria-label="Direct link to Why RAILGUN chose Waku" title="Direct link to Why RAILGUN chose Waku">​</a></h2><p>Waku is designed to operate both off-chain and chain agnostic, serving as a peer-to-peer networking library enabling relevant wallets to communicate with relayer RPCs. Its primary aim is to minimise data leakage, particularly concerning IP addresses, which could potentially compromise the anonymity of RAILGUN users.</p><p>Initially, RAILGUN attempted to utilise libp2p directly, the underlying framework upon which Waku is constructed, and endeavoured to incorporate a transport tool for use as the networking library. However, this proved exceedingly challenging, and the concept never progressed to production. Instead, the team found that Waku protocols could be implemented or adapted effectively. Keiran remarked, "It just turned out to be well-suited for our needs, so we've stuck with it."</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="protecting-transaction-privacy">Protecting transaction privacy<a href="#protecting-transaction-privacy" class="hash-link" aria-label="Direct link to Protecting transaction privacy" title="Direct link to Protecting transaction privacy">​</a></h2><p>Keiran elaborated on the importance of transaction privacy, initially citing the potential of Bitcoin and other cryptocurrencies to achieve financial independence, democratise access to finance, and enable individuals to act as their own banks. However, in practice, this vision has shifted from empowerment to near-total surveillance. Rather than a select few having access to one's financial activities, now anyone with an internet connection can monitor transactions through the block explorer.</p><p>While this level of transparency may be acceptable for occasional meme coin trading, if we envision cryptocurrencies as everyday financial instruments, it becomes imperative not to publicly disclose all transaction data.</p><p>“The question of privacy is really something that needs to be solved.”</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="on-vitalik-buterin">On Vitalik Buterin<a href="#on-vitalik-buterin" class="hash-link" aria-label="Direct link to On Vitalik Buterin" title="Direct link to On Vitalik Buterin">​</a></h2><p>RAILGUN garnered considerable attention following the news that Vitalik Buterin had transferred 100 ETH to the platform. Keiran commented that this action exemplified one of RAILGUN's most compelling use cases: providing privacy for public figures with substantial funds tied to their identities. Such visibility naturally attracts scrutiny and assumptions, necessitating a means to safeguard personal data.</p><p>Keiran disclosed that he believed Vitalik had been utilising RAILGUN for approximately six months before publicly endorsing it. Subsequently, RAILGUN experienced a surge of interest from new users and critics alike. This heightened interest in RAILGUN shows no signs of abating, but once it does, the team plans to conduct a retrospective analysis on its impact on growth and overall sentiment.</p><hr><p>If you have questions about what the team has been doing or want to join a like-minded community focused on bringing peer-to-peer communications to millions of users, join the Waku <a href="https://discord.com/invite/gMPAzmcDER" target="_blank" rel="noopener noreferrer">Discord</a> or follow us on <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">X</a>.</p><p><a href="https://waku.org/subscribe/" target="_blank" rel="noopener noreferrer">Subscribe</a> to the monthly newsletter for these updates directly in your inbox.</p>]]></content>
        <author>
            <name>Amelia Trapp</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Deep Dive Into RAILGUN: Powered by Waku]]></title>
        <id>https://waku.org/railgun-waku-case-study</id>
        <link href="https://waku.org/railgun-waku-case-study"/>
        <updated>2024-04-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn more about how RAILGUN uses Waku to build a privacy layer on top of EVM based chains]]></summary>
        <content type="html"><![CDATA[<p>Learn more about how RAILGUN uses Waku to build a privacy layer on top of EVM based chains</p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="Railgun Case Study" src="/assets/images/railguncover-c99893cb767a56e01e666e4db22596a8.png" width="1456" height="816" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>Does your Dapp need to offer private on-chain transactions? The following scenarios are examples of users that have such privacy requirements:</p><ul><li><strong>Donations made for humanitarian reasons</strong>: A humanitarian cross-border organisation like <a href="https://www.unicef.org/" target="_blank" rel="noopener noreferrer">UNICEF</a> might not want to disclose their donations to specific countries or communities under crisis to avoid unwanted political tensions.</li><li><strong>Private expenses:</strong> Some web3 users might not wish to keep their private expenses transparent (for example - costs related to medical treatments).</li><li><strong>Public goods funding:</strong> Donars may wish to donate anonymously towards a public goods project.</li></ul><p>All the above examples are not possible directly with Ethereum since the blockchain is, by design, a public ledger. Continue reading to understand how Waku can offer your users privacy. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-transparent-nature-of-ethereum"><strong>The transparent nature of Ethereum</strong><a href="#the-transparent-nature-of-ethereum" class="hash-link" aria-label="Direct link to the-transparent-nature-of-ethereum" title="Direct link to the-transparent-nature-of-ethereum">​</a></h3><p>Ethereum does not provide privacy by default; every transactional data in the Ethereum network is transparent. Similar to Bitcoin, <em>Ethereum-based technologies are designed for pseudonymity and not anonymity</em>. Lack of privacy is one of the many factors hindering DeFi use cases, as many financial applications require transactional data that is not publicly available. This creates the demand for privacy solutions like RAILGUN - a privacy-preserving project built using Waku.</p><p>With RAILGUN, users can leverage various DeFi functionalities like lending, borrowing, swapping and trading tokens privately.</p><h1>What is RAILGUN?</h1><br><p><a href="https://github.com/Railgun-Privacy" target="_blank" rel="noopener noreferrer">RAILGUN</a> is an on-chain privacy system built for EVM-based blockchains. The RAILGUN community claims the project to be the only uncompromising on-chain privacy solution with unparalleled encryption, security, and with DeFi functionality on par with other leading wallets. </p><p>The core features RAILGUN provides are:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="zk-powered-security-and-resilience"><strong>ZK Powered Security and Resilience</strong><a href="#zk-powered-security-and-resilience" class="hash-link" aria-label="Direct link to zk-powered-security-and-resilience" title="Direct link to zk-powered-security-and-resilience">​</a></h5><p>RAILGUN uses Zero-Knowledge (ZK) cryptography to enable the private use of smart contracts and DeFi without leaving the user’s preferred chain. This makes the solution self-custodial and bulletproof for private transactions without requiring a new L2 validator. There is no bridge risk, preserving security and decentralisation. In short, RAILGUN is as secure as the EVM chain on which it is deployed.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bonded-well-with-the-evm-ecosystem"><strong>Bonded well with the EVM ecosystem</strong><a href="#bonded-well-with-the-evm-ecosystem" class="hash-link" aria-label="Direct link to bonded-well-with-the-evm-ecosystem" title="Direct link to bonded-well-with-the-evm-ecosystem">​</a></h5><p>RAILGUN is not a separate blockchain that stands alone from the EVM ecosystem. The project seeks to enhance privacy utilities for the EVM ecosystem with the least dependencies. It solves many interoperability issues that exist with the other pro-privacy chains. RAILGUN is embedded into the Ethereum ecosystem; users can access transactional data and liquidity on Ethereum.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="no-breaking-changes-in-the-ux"><strong>No breaking changes in the UX</strong><a href="#no-breaking-changes-in-the-ux" class="hash-link" aria-label="Direct link to no-breaking-changes-in-the-ux" title="Direct link to no-breaking-changes-in-the-ux">​</a></h5><p>The user experience is similar to leading self-custodial wallets like MetaMask to interact with Ethereum/EVM chains regarding liquidity and DeFi.</p><h1>Components of RAILGUN</h1><br><p>The RAILGUN system has three key attributes:</p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="RAILGUN Workflow" src="/assets/images/railgun1-4de5e943ba7bc0b937935544d7f89617.png" width="2633" height="1519" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><ol><li><strong>RAILGUN Smart contracts</strong></li></ol><p>RAILGUN smart contracts enable Zero-Knowledge privacy for any on-chain dApp. By integrating these smart contracts, developers can provide an incognito-like experience for their users without affecting the user experience.</p><ol start="2"><li><strong>RAILGUN’s Relayer network</strong></li></ol><p>RAILGUN is supported by a decentralised relayer network that submits transactional data into the blockchain. The relayer network is also expected to preserve privacy to meet their ‘privacy-first’ approach and end-user anonymity requirements.</p><ol start="3"><li><strong>RAILGUN Wallets</strong></li></ol><p>RAILGUN does not have a single in-house official wallet but already has an ecosystem of wallets that integrate the RAILGUN smart contracts and run independently. Check out more about the RAILGUN wallets <a href="https://www.railgun.org/wallets.html" target="_blank" rel="noopener noreferrer">on their community-curated website</a>.</p><br><h1>How does RAILGUN use Waku?</h1><br><p>Most of RAILGUN’s core functionalities are executed as on-chain transactions. However, RAILGUN’s infrastructure demands a network of privacy-preserving and decentralised relayers. These relayers should be able to submit user-signed transactions to the blockchain.</p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="RAILGUN&amp;#39;s Waku usage" src="/assets/images/railgun2-928b3b466c44fd18ba01e2c568793dfe.png" width="2633" height="1519" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="waku-as-a-relayer-network"><strong>Waku as a relayer network</strong><a href="#waku-as-a-relayer-network" class="hash-link" aria-label="Direct link to waku-as-a-relayer-network" title="Direct link to waku-as-a-relayer-network">​</a></h3><p>Much of RAILGUN’s user experience and privacy features are powered by a relayer network provided by Waku. RAILGUN runs a self-federated network of <a href="https://github.com/waku-org/nwaku" target="_blank" rel="noopener noreferrer">nwaku</a> nodes that relay the transactions from the signer into the blockchain. <a href="https://github.com/waku-org/nwaku" target="_blank" rel="noopener noreferrer">nwaku</a> is a full node implementation of Waku that usually runs resource-rich environments. The <a href="https://github.com/waku-org/nwaku" target="_blank" rel="noopener noreferrer">nwaku</a> relayers advertise their fees, and the signer selects the most appropriate relayer that leverages Waku to submit the transactional data.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="high-level-architecture"><strong>High-level architecture</strong><a href="#high-level-architecture" class="hash-link" aria-label="Direct link to high-level-architecture" title="Direct link to high-level-architecture">​</a></h3><p>The current Waku integration with RAILGUN uses nwaku via REST API, and the users leverage the wallet functionalities with <a href="https://github.com/waku-org/js-waku" target="_blank" rel="noopener noreferrer">js-waku</a> , a lightweight implementation of Waku that makes it adaptable in resource-restricted environments like browsers and desktop apps.</p><br><h1>Inspired by RAILGUN? Try Waku.</h1><br><p>RAILGUN is possibly the most unique use case for <a href="https://waku.org/" target="_blank" rel="noopener noreferrer">Waku</a>. If you are inspired to learn more about integrating Waku into your dApp, join our <a href="https://discord.waku.org/" target="_blank" rel="noopener noreferrer">Discord community</a> . Our core contributors would be happy to help you get onboarded. The <a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">Waku documentation</a> is an excellent place to get started if you are looking for code snippets with in-depth conceptual guides.</p>]]></content>
        <author>
            <name>Guru</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[March Progress Report]]></title>
        <id>https://waku.org/march-progress</id>
        <link href="https://waku.org/march-progress"/>
        <updated>2024-04-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Highlights from the Waku team in March 2024.]]></summary>
        <content type="html"><![CDATA[<p>Highlights from the Waku team in March 2024.</p><hr><p>Welcome to the monthly Waku progress report. The EcoDev group at Waku covers community, growth, partnerships, and communications. The Research and Development group covers the academic and engineering research that supports Waku’s development, as well as the core team of Waku engineers building the protocols. Each month, we will share the key highlights and progress of the teams. You can <a href="https://waku.org/subscribe/" target="_blank" rel="noopener noreferrer">subscribe</a> to the monthly newsletter if you prefer to receive an abridged version of these updates in your inbox. </p><h1>Events</h1><p><strong>ETHLatam 13th - 14th March</strong></p><p>Waku sponsored ETHLatam with US$2,500 in prizes for hackers who created privacy-preserving solutions using Waku. Developer Relations Engineer Guru also gave a hands-on workshop that served as an introduction to Waku. The Waku team gave one-to-one support to the hackers, who were also gifted limited edition Waku swag.</p><p>Congratulations to the ETHLatam hackathon bounty winners, <a href="https://twitter.com/Waku_org/status/1772530541859885160" target="_blank" rel="noopener noreferrer">EduChain</a>! The team developed a privacy-focused platform for maintaining and accessing academic records.</p><p><strong>ETHTaipei 21st - 24th March</strong></p><p>Waku Protocol Engineer Danish <a href="https://twitter.com/Waku_org/status/1772284941117562935?utm_source=%7C%7CTEST+3%7C%7C+See+you+i...+%28Mass+Mailing+created+on+2024-04-03%29+%5B7%5D&amp;utm_medium=Email" target="_blank" rel="noopener noreferrer">delivered two excellent talks</a> in Taipei. At ETHTaipei, Danish presented on “Bridging the Gap in Decentralised Communications with Waku”. He also spoke at the Liberty ZK Hacker House side event on the 25th of March, presenting “Leveraging ZK proofs for spam mitigation in a p2p multi-client environment | Waku with RLN.” </p><p>Thank you to everyone who attended for the great reception and openness to learning about privacy-first peer-to-peer communications. </p><p><strong>ETHDam 12th - 14th April</strong></p><p>Our next stop is ETHDam! Waku has €2,000 in bounty prizes for hackers who submit the best use of Waku. If you are attending ETHDam, there is still time to <a href="https://waku.org/events/ethdam/" target="_blank" rel="noopener noreferrer">schedule a meeting with the team</a> to discuss integrating Waku or to exchange ideas about the future of web3 and privacy.</p><p><strong>Privacy in the Age of AI: DarkFi, Logos &amp; Waku Roundtable</strong></p><p>Waku and Logos co-hosted an X Space with Lunar Mining of DarkFi. The speakers discussed how to prevent a future where privacy becomes a luxury accessible only to those who can afford it while the rest of society becomes increasingly exposed to the scrutiny of AI surveillance. You can <a href="https://twitter.com/Waku_org/status/1773017040166535486" target="_blank" rel="noopener noreferrer">listen back</a> to the Space.</p><h1>Reads and tutorials</h1><p>The Waku Network is the first decentralised and privacy-preserving network that provides Denial-of-Service (DoS) protections for peer-to-peer messaging. It aims to enhance privacy and security in peer-to-peer communications by implementing innovative protocols and technologies. You can take a deep dive into the Waku Network to learn how we can scale peer-to-peer communications to millions of users in a decentralised, privacy-focused way in this <a href="https://twitter.com/Waku_org/status/1772919691255644602" target="_blank" rel="noopener noreferrer">blog post from Waku Lead Franck</a>. </p><p>After the recent boom in the generative artificial intelligence (AI) space, there is a growing misconception that web3 does not have native use cases for AI. Indeed, some are popularising an unfounded argument that web3 is being forced into the AI space. Learn from Guru how Waku fits into a privacy-preserving blockchain and AI stack <a href="https://blog.waku.org/convergence-of-ai-blockchain-privacy/" target="_blank" rel="noopener noreferrer">in this blog post</a>.</p><p>In this tutorial, Guru introduces Waku protocols and demonstrates with <a href="https://www.youtube.com/@DBlockEd" target="_blank" rel="noopener noreferrer">DBlockEd</a> how to build a peer-to-peer game like Battleship with Waku. It is suitable for first-timers using Waku as it takes you from installing the necessary dependencies and using the starter kit to deploying your game. You can <a href="https://twitter.com/Waku_org/status/1770117993197953099" target="_blank" rel="noopener noreferrer">watch the video here</a>.</p><h1>Technical Updates</h1><p><a href="https://twitter.com/Waku_org/status/1768359640415273339" target="_blank" rel="noopener noreferrer">rln-v2 has been integrated into nwaku</a>, enabling variable messaging rates depending on the stake. Users can register to the rln-v2 membership set and send multiple messages per epoch. We are currently testing this release in simulations.</p><p>The Waku template for Akash Network deployment has been updated to the latest nwaku version (v0.26.0) and is now available in the <a href="https://deploy.cloudmos.io/templates/akash-network-awesome-akash-waku" target="_blank" rel="noopener noreferrer">Cloudmos Template catalogue</a>. You can find the deployment manifests in the <a href="https://github.com/akash-network/awesome-akash/tree/master/waku" target="_blank" rel="noopener noreferrer">Awesome Akash repository</a>. Remember that you must follow the deployment process in the how-to section. </p><h1>Research and Development</h1><p>Below are the key highlights from across the research and development teams. </p><ul><li>The Store protocol is how nodes in the Waku network can be queried on their message history. We have developed a <a href="https://github.com/waku-org/nwaku/pull/2431" target="_blank" rel="noopener noreferrer">proof-of-concept implementation</a> for the Store v3 protocol, which adds greater reliability to the query responses and incentivises node runners. </li><li>We aim to ensure builders and hackers can easily use Waku without needing to learn all the protocols. </li><li>We have created a new simplified SDK function for creating a node for autosharding. <a href="https://docs.waku.org/guides/js-waku/" target="_blank" rel="noopener noreferrer">Learn more about the JavaScript Waku SDK</a>. </li><li>nwaku is a Nim-based Waku implementation to run a standalone node and access the network. We have <a href="https://github.com/waku-org/nwaku/issues/2223" target="_blank" rel="noopener noreferrer">implemented CORS enhancements</a>, as well as <a href="https://github.com/waku-org/nwaku/issues/2345" target="_blank" rel="noopener noreferrer">implementing the RLN v2</a> proof-of-concept into nwaku. </li><li>The research team has submitted two academic papers that are currently under review. </li></ul><hr><h1>Community call</h1><p>Waku hosts a Community Call on X during the last week of each month. The objective of the call is to update the community on our progress and provide a space where questions can be put directly to the team.</p><p>The Community Call took place on the 29th of March. You can <a href="https://twitter.com/i/spaces/1lDxLPRNqaMxm?s=20" target="_blank" rel="noopener noreferrer">listen back to the full Space</a> and read the highlights below. <a href="https://twitter.com/vrycmfy" target="_blank" rel="noopener noreferrer">Aaron</a>, <a href="https://twitter.com/hackyguru" target="_blank" rel="noopener noreferrer">Guru</a>, <a href="https://twitter.com/vpavlin" target="_blank" rel="noopener noreferrer">Vaclav,</a> and <a href="https://twitter.com/danisharora099" target="_blank" rel="noopener noreferrer">Danish</a> from the Waku team led the call. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ethlatam-winners-educhain">ETHLatam winners: EduChain<a href="#ethlatam-winners-educhain" class="hash-link" aria-label="Direct link to ETHLatam winners: EduChain" title="Direct link to ETHLatam winners: EduChain">​</a></h2><p>The Waku team was joined by bounty winners <a href="https://twitter.com/KennethAlvaren5" target="_blank" rel="noopener noreferrer">Kenneth</a> and <a href="https://twitter.com/ferji1997" target="_blank" rel="noopener noreferrer">Fernanda</a> from ETHLatam’s winning team, EduChain. Kenneth and Fernanda shared that they chose to hack with Waku because of their need to maintain transparent communications and feedback on their platform. Their project is blockchain-based and demands a quick and secure notification system for its users. They also shared that University officials have agreed to start trialling the EduChain platform with Masters-level scholarship students. Kudos to the EduChain team!</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="improving-the-store-protocol">Improving the Store protocol<a href="#improving-the-store-protocol" class="hash-link" aria-label="Direct link to Improving the Store protocol" title="Direct link to Improving the Store protocol">​</a></h2><p>The Waku team shared three key milestones for 2024. The first is improvements to the <a href="https://docs.waku.org/guides/nwaku/configure-nwaku/#configure-store-protocol-and-message-store" target="_blank" rel="noopener noreferrer">Store protocol</a>, which provides message caching and serves it to network peers. The current version can, however, result in different nodes in the network providing you with different answers when queried. This is due to a reliability issue where the peer-to-peer network cannot absolutely guarantee that all of the messages are delivered to all of the nodes. V3 Store nodes will check with other nodes in the network to give you an accurate answer. The team is also working on incentivisation for running these nodes to provide further assurance and reliability to the network. This will require some form of payment for network users to query the nodes.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rln-v2-and-v3">RLN v2 and v3<a href="#rln-v2-and-v3" class="hash-link" aria-label="Direct link to RLN v2 and v3" title="Direct link to RLN v2 and v3">​</a></h2><p>RLN v1 is already used in the Waku Network to offer message rate limiting. It is strongly recommended to use RLN because, on any peer-to-peer network, anyone can join and spam, which can result in DoS attacks. RLN is a privacy-preserving way to limit users’ messages and give assurance against DoS attacks. We use ZK knowledge proofs for each message; relayers see the proof and validate that the users are part of the network, permitting them to send one message per second. In RLN v2 and v3, the rate limit will be configurable per user. The Waku team is now testing and running simulations of v2 to ensure it offers the scalability and reliability required. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="increasing-wakus-usability">Increasing Waku’s usability<a href="#increasing-wakus-usability" class="hash-link" aria-label="Direct link to Increasing Waku’s usability" title="Direct link to Increasing Waku’s usability">​</a></h2><p>The third milestone highlighted in the call was “composing Waku protocols”. This milestone aims to ensure builders and hackers can easily use Waku without knowing all the details of each protocol or needing to learn which protocol is best for specific use cases and actions. This year, the team will create high-level SDKs with APIs that can be extrapolated for certain uses. One example would be for builders using Waku to send messages; the protocols will be automatically selected without the builder needing to configure them. </p><p>By composing Waku protocols, anyone can immediately and easily start using Waku. If or when they reach the barriers of the high-level SDKs, they can then go deeper into the individual protocols. </p><hr><p>If you have questions about what the team has been doing or want to join a like-minded community focused on bringing peer-to-peer communications to millions of users, join the Waku <a href="https://discord.com/invite/gMPAzmcDER" target="_blank" rel="noopener noreferrer">Discord</a> or follow us on <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">X</a>.</p><p><a href="https://waku.org/subscribe/" target="_blank" rel="noopener noreferrer">Subscribe</a> to the monthly newsletter for these updates directly in your inbox.</p>]]></content>
        <author>
            <name>Amelia Trapp</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[The Waku Network: Technical Overview]]></title>
        <id>https://waku.org/2024-waku-network-tech-overview</id>
        <link href="https://waku.org/2024-waku-network-tech-overview"/>
        <updated>2024-03-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A comprehensive overview of the Waku Network.]]></summary>
        <content type="html"><![CDATA[<p>A comprehensive overview of the Waku Network. </p><hr><p>Last December <a href="https://thedefiant.io/waku-launches-first-decentralised-privacy-preserving-dos-protections-for-peer-to-peer-messaging" target="_blank" rel="noopener noreferrer">we announced the Waku Network</a>.</p><p>The Waku Network is the first decentralised and privacy-preserving network that provides Denial-of-Service (DoS) protections for peer-to-peer messaging. It aims to enhance privacy and security in peer-to-peer communication by implementing innovative protocols and technologies.</p><p>Let us dig deeper into the why and what the Waku Network is.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="origin">Origin<a href="#origin" class="hash-link" aria-label="Direct link to Origin" title="Direct link to Origin">​</a></h2><p>If you have been following Waku or Status, you are likely to be familiar with the origin of Waku.
The Status mobile app was created to be a web3 super app, a portal to the Ethereum ecosystem that leverages the three original pillars: Ethereum for consensus, Swarm for storage and Whisper for communication.</p><p>The Status development team attempted to build Status with Whisper, but this protocol had fundamental limitations, especially for resource-restricted devices, such as mobile phones.</p><p>Waku was born as a successor of Whisper, learning from its flaws to provide a scalable peer-to-peer communication network fit for mobile and browsers.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="challenges--desired-properties">Challenges / desired properties<a href="#challenges--desired-properties" class="hash-link" aria-label="Direct link to Challenges / desired properties" title="Direct link to Challenges / desired properties">​</a></h2><p>Waku aims to overcome the following challenges:</p><ul><li>Generalised messaging: Waku aims to provide protocols and a network that enables the transfer of arbitrary payloads. While Waku was originally created for a chat application, Status, the aim is to be generalised enough to build any decentralised communication or signalling application on Waku.</li><li>Ephemeral messaging: Waku aims to solve the problem of real-time communication, which aims to provide fair latency to enable one or several users to exchange small data payloads. This is in contrast to IPFS or other decentralised storage systems, which provide a way to store large amounts of data at the expense of latency and responsiveness.</li><li>Censorship-resistance: Waku aims to provide a censorship-resistant solution where external actors cannot block users' access to the Waku infrastructure. But also for app developers to be able to build with a <em>cannot do evil</em> mindset where they do not have the key to the kingdom and the ability to deplatform their users.</li><li>Privacy-minded: To provide the ability for app developers to operate on a <em>cannot do evil</em> principle in terms of data and metadata collection of their users. This means that even if they wanted or were pressured to they, or any third party, could not collect metadata such as social graphs or activity patterns from their users.</li><li>Anonymity: Similarly to privacy, this is the ability for users to not link Personal Identifiable Information (PII) to their activity on the Waku network or application using the network. PII considered here are in regards to the network (IP address), blockchain (e.g. Ethereum address), and routing (message correlation).</li><li>Resource-restricted devices: as previously mentioned, when designing Waku, an effort is made to consider environments such as mobile and browser to enable developers to build DApps for these platforms and provide as many of the properties listed above as possible.</li><li>Scalability: Waku aims to support millions of users while maintaining the principles above; this needs to be thoughtfully designed and tested.
</li></ul><p>All the properties above mean that other problems need to be overcome when designing Waku:</p><ul><li>DOS protection: ensuring that the network cannot be flooded with messages, leading users who have fewer resources to be booted off the network.</li><li>Network sustainability and incentivisation: How do we ensure enough resources in the network to enable devices such as browsers and mobile devices to access the network?</li><li>Decentralisation: Waku needs to be decentralised at several levels to enable those properties. How do we maintain a fair level of decentralisation to ensure those properties remain over time?
</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-waku-network">The Waku Network<a href="#the-waku-network" class="hash-link" aria-label="Direct link to The Waku Network" title="Direct link to The Waku Network">​</a></h2><p>How does the Waku Network help deliver the properties above?</p><p>Let us review the different Waku protocols that are combined in the network and how they enable us to achieve this feat.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="peer-discovery">Peer discovery<a href="#peer-discovery" class="hash-link" aria-label="Direct link to Peer discovery" title="Direct link to Peer discovery">​</a></h3><p>For any peer-to-peer system to be reliable and decentralised, there must be a mechanism to find new peers or nodes in said system, usually called <em>peer discovery</em>.</p><p>Waku uses discv5, similar to Ethereum. Minor enhancements to ENR have been done to enable the Waku node to advertise:</p><ul><li>the shards they are operating in (see <a href="#message-routing--sharding">message routing - sharding</a>)</li><li>the protocol they have enabled</li><li>alternative multiaddr they may have, e.g., for the browser to connect to the said node via WebSocket.
</li></ul><p>Discv5 is decentralised, which can prevent potential sybil attacks where an attacker tries to surround the victim's node to give a manipulated view of the network.</p><p>This helps enable anonymity, privacy, and censorship resistance.</p><p>Thanks to the protocol serviced being advertised, it enables mobile phones and the browser to find nodes that can service them.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="message-routing---gossipsub">Message Routing - Gossipsub<a href="#message-routing---gossipsub" class="hash-link" aria-label="Direct link to Message Routing - Gossipsub" title="Direct link to Message Routing - Gossipsub">​</a></h3><p>Similar to Ethereum, Waku uses libp2p-gossipsub. This brings several benefits:</p><ul><li>improved bandwidth performance in comparison to Whisper: in gossipsub, nodes form a group of neighbours (mesh) to which they send messages. A given node will only attempt to maintain connections and actively exchange messages with other nodes. Reducing the number of times each message is uploaded or downloaded.</li><li>Reliability: gossipsub has built-in redundancy, which gives fair reliability when operating in a decentralised peer-to-peer network, where no node can be trusted to be reliable or well-behaved.</li><li>Anonymity: as nodes forward messages from other nodes in their mesh, and no metadata is present on individual messages (e.g., no plain text signature), this provides fair anonymity as it is not possible for an observer to know if their neighbour originated or forwarded a message. This works when combined with a decentralised peer discovery mechanism such as discv5.
</li></ul><p>We named Waku's usage of gossipsub, the protocol and the network. <strong>Waku Relay.</strong></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="message-routing---sharding">Message routing - sharding<a href="#message-routing---sharding" class="hash-link" aria-label="Direct link to Message routing - sharding" title="Direct link to Message routing - sharding">​</a></h3><p>One of the drawbacks of Gossipsub is that every node in the network receives and sends every message of the network, with some amplification.</p><p>One can see how this limits scalability: it cannot be expected to traffic the whole traffic of the network from a household internet connection.</p><p>To solve this problem, sharding is used instead of having one gossipsub network. The Waku network is subdivided into several distinct message-routing subnetworks, or shards.
Currently, the Waku network is split into eight shards.</p><p>It means that any user of a Waku application would only relay the traffic of one shard or one-eighth (approximately) of the whole network.</p><p>Eight was a small, arbitrary number to start with. Our theoretical analysis shows that a shard can support around 10k active users while maintaining an average bandwidth requirement of around 4Mbps, meaning 80k for the whole network. We are working on running further simulations to confirm our assumptions. We are also onboarding developers and users on the network to test the theory.
The aim is to increase the number of shards in the network over time.</p><p>Thanks to the enhancements made to discv5, nodes can know what shards other peers are servicing before connecting to them.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="message-routing---autosharding">Message routing - autosharding<a href="#message-routing---autosharding" class="hash-link" aria-label="Direct link to Message routing - autosharding" title="Direct link to Message routing - autosharding">​</a></h3><p>One issue with sharding is that users and applications must know what shard to use.</p><p>One application could arbitrarily decide what shard they want to use, but that may take a lot of work, especially when adding new shards. It is also one more decision for the developer to make; we prefer to make the developer experience as easy as possible. It also allows developers to build applications that spread on several shards without delegating shard choices to the user.</p><p>Autosharding is a simple protocol that dispatches messages on a shard based on the application.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="message-routing---rln-relay">Message Routing - RLN Relay<a href="#message-routing---rln-relay" class="hash-link" aria-label="Direct link to Message Routing - RLN Relay" title="Direct link to Message Routing - RLN Relay">​</a></h3><p>Waku is generalised and privacy-preserving, meaning any kind of payload can be transported. Hence, there is no strict definition of "spam". Whether the message contains a <a href="https://github.com/b4s36t4/waku-meme" target="_blank" rel="noopener noreferrer">meme</a> or a <a href="https://railgun.ch/#/" target="_blank" rel="noopener noreferrer">zk note for private DeFi</a>, Waku shouldn't even know the content; metadata and data should remain private.</p><p>Hence, there is a risk of someone pushing gigabits of data to the network. This can be a problem at different levels:</p><ul><li>Bandwidth usage: This may lead to a user's bandwidth being hogged and affecting other services (streaming, staking) or a surprise bill.</li><li>Connectivity: if a node does not have enough bandwidth to send/receive all messages on the gossipsub layer, then their behaviour may be seen as incorrect by other nodes that may disconnect from it.</li><li>Reliability: If the traffic is higher than the available bandwidth, then a node may not be able to send and receive messages reliably.</li><li>Other resources: memory usage is correlated with the traffic, and so is disk space for a store service.
</li></ul><p>So rather than defining what a "spam" message looks like, we introduced a rate limit on the network to enable a fair use of Waku, with a capping of the bandwidth usage per shard.</p><p>This is done with RLN, or Rate Limiting Nullifier, which limits the rate of messages a given publisher sends.
It is currently set to 1 msg/s. Coupled with a maximum message size (150kB) and a maximum number of publishers (80k, TBD), we can assume a maximum bandwidth usage per shard of <a href="https://docs.waku.org/research/research-and-studies/capped-bandwidth" target="_blank" rel="noopener noreferrer">around 10Mbps</a>. Read more about the maximum bandwidth <a href="https://docs.waku.org/research/research-and-studies/maximum-bandwidth" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Rate-limiting publishers in a censorship-resistant and private manner is difficult; this is why we are using zero-knowledge technology:</p><ol><li>Users push their RLN credentials to a smart contract (currently on Ethereum Sepolia testnet).</li><li>Nodes keep track of all registered memberships on the contract.</li><li>When sending a message, the user attaches an RLN proof to the message with the current epoch (timestamp in seconds).</li><li>Nodes can verify the proof without being able to correlate the user's Ethereum address (used on the smart contract) with the message being sent, preserving anonymity.</li><li>If a user attempts to send more than 1 msg/s, nodes can detect this and drop the message surplus or spam, protecting the network.</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="servicing-mostly-offline-and-resource-restricted-devices">Servicing Mostly-offline and Resource-restricted Devices<a href="#servicing-mostly-offline-and-resource-restricted-devices" class="hash-link" aria-label="Direct link to Servicing Mostly-offline and Resource-restricted Devices" title="Direct link to Servicing Mostly-offline and Resource-restricted Devices">​</a></h3><p>Finally, how is Waku useful to resource-restricted devices, such as mobile phones and web browsers?
Waku defines a number of <a href="https://rfc.vac.dev/spec/10/#requestreply-domain" target="_blank" rel="noopener noreferrer">request-response protocols</a> to enable such devices to access the Waku network without having to be always online or consume extensive amounts of bandwidth, i.e., without participating in the Waku Relay network.
The <a href="https://docs.waku.org/learn/concepts/protocols#light-push" target="_blank" rel="noopener noreferrer">light push protocol</a> sends a message to be forwarded to the Waku Relay network, with acknowledgement of reception from the remote node.</p><p>The <a href="https://docs.waku.org/learn/concepts/protocols/#filter" target="_blank" rel="noopener noreferrer">filter protocol</a> enables a <em>light client</em> to subscribe to a remote peer and only request a subset of messages instead of all messages transmitted on a shard.</p><p>Finally, the store protocol enables <em>light clients</em> and <em>relay nodes</em> to retrieve historical messages that may have been missed.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-waku-networks-value-proposition">The Waku Network's value proposition<a href="#the-waku-networks-value-proposition" class="hash-link" aria-label="Direct link to The Waku Network's value proposition" title="Direct link to The Waku Network's value proposition">​</a></h2><p>While we have defined the desired properties and the technology, it is important to understand the potential use cases of the Waku Network. This <a href="https://github.com/waku-org/docs.waku.org/issues/134" target="_blank" rel="noopener noreferrer">issue</a> currently describes several USPs (Unique Value Propositions), and we will be documenting the subject further. Some noteworthy use cases are, beyond building any machine-to-machine or human-to-human communication app:</p><ul><li>No-Infra DApps: combining various decentralised technologies (Waku, Ethereum, IPFS) to deploy a DApp without paying a centralised hosting provider.</li><li>Censorship-resistant access to a decentralised network for light clients: using the request-response protocols to enable light clients to access your peer-to-peer network without relying on a centralised, censorable web gateway.</li><li>Signal network: Use The Waku Network to find other peers and negotiate specific parameters to form your own peer-to-peer, Waku or not, network with different rules (higher rate limit, etc.).</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="are-we--blank-yet">Are we  <em>blank</em> yet?<a href="#are-we--blank-yet" class="hash-link" aria-label="Direct link to are-we--blank-yet" title="Direct link to are-we--blank-yet">​</a></h2><p>We have described Waku's desired properties and how the Waku Network delivers on those. Does it mean Waku is censorship-resistant, private, sustainable, and scalable? <em>Not quite.</em></p><p>Bootstrapping is a component of all peer-to-peer networks we did not address: how does a new node find other nodes in the network? We use Ethereum technology for bootstrapping (ENR + DNS Discovery). However, this technology could be more decentralised. We intend to improve this potential around the end of 2024 or 2025.</p><p>In general, the network needs to be decentralised to achieve the desired properties. While some of the technology enables such decentralisation (and we are working on improving the part that does not), this problem has a social component. If the Waku team is the only one running nodes, then inherently, the network cannot be considered decentralised, and hence censorship-resistant, etc. To solve this, we need to push for the adoption of the Waku network so we can build a good base of node operators and developers that run nodes without depending on the Waku team to do so.</p><p>We increased this effort last year and will continue this year.</p><p>Another aspect is providing monetary incentivisation to node operators to run nodes so the network can become self-sustainable. We do not have such a protocol; we are building the first PoC.</p><p>The Waku Network plays an important role here. Once such a protocol is available, a common (market) place is needed for developers/users and operators to find each other; the Waku Network would be such a place.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>Waku aims to enable sovereign communications with specific properties. The Waku Network is a critical milestone towards achieving such a goal and creating a common, decentralisable network on which developers can build, and we can add more protocols.</p><p>While we cannot say that Waku is all it aims to be today, it is already permissionless and decentralisable on several layers.</p><p>We are now working on not only adding the missing pieces to the protocols but also pushing for Waku's adoption to make it de facto decentralised, enabling private &amp; censorship resistance for everyone.</p><hr><p>If you have questions about Waku’s development roadmap or want to join a like-minded community focused on bringing peer-to-peer communications to millions of users, join the Waku <a href="https://discord.waku.org/" target="_blank" rel="noopener noreferrer">Discord</a> or follow us on <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">X</a>.</p><p>If the technology speaks to you, <a href="https://https//status.app/jobs/" target="_blank" rel="noopener noreferrer">check out our open job positions</a> or crack some of our <a href="https://github.org/waku-org/bounties" target="_blank" rel="noopener noreferrer">bounties</a>.</p><p>You can also help to ensure that we stay decentralised by <a href="https://docs.waku.org/guides/nwaku/run-node" target="_blank" rel="noopener noreferrer">running your own Waku Node!</a></p>]]></content>
        <author>
            <name>Franck</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[The convergence of AI, Blockchain and Privacy]]></title>
        <id>https://waku.org/convergence-of-ai-blockchain-privacy</id>
        <link href="https://waku.org/convergence-of-ai-blockchain-privacy"/>
        <updated>2024-03-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[An overview of the need for decentralised and privacy-preserving artificial intelligence.]]></summary>
        <content type="html"><![CDATA[<p>An overview of the need for decentralised and privacy-preserving artificial intelligence.</p><hr><figure><div class="wrapper_SWrM active_qZD5"><img loading="lazy" src="/img/ai-waku.png" alt="header-image" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><figcaption>Image generated with MidJourney</figcaption></figure><br>After the recent boom in the generative artificial intelligence (AI) space, several critics have questioned the convergence of AI and web3. There is also a growing misconception that web3 does not have native use cases within the AI space. Indeed, some are popularising an unfounded argument that web3 is being forced into the AI space. This blog post will explore the need for an intersection between these cutting-edge technologies and some potential use cases where we can implement a technology like [Waku](https://waku.org/) in AI-related areas.<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-need-for-an-intersection-between-ai-and-web3">The need for an intersection between AI and web3<a href="#the-need-for-an-intersection-between-ai-and-web3" class="hash-link" aria-label="Direct link to The need for an intersection between AI and web3" title="Direct link to The need for an intersection between AI and web3">​</a></h2><p>I have always believed that web3 is not 'just' about blockchains but extends to the broader idealogy of building censorship-resistant infrastructure with privacy-preserving technologies.</p><p>We often only understand the need for such ethos once we get exposed to the problems that hinder innovation through censorship. A perfect example of this scenario is a recent <a href="https://timesofindia.indiatimes.com/gadgets-news/government-to-tech-companies-take-permission-before-launching-ai-models-in-india/articleshow/108167769.cms" target="_blank" rel="noopener noreferrer">statement from an Indian government official</a>.</p><p>The government official stated that with new regulations and compliance requirements faced by the artificial intelligence space, GenAI domain experts are looking to web3 for solutions. AI innovators are turning to permissionless and privacy-preserving technologies to distribute their model deployments and avoid being censored.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-role-of-a-privacy-preserving-communications-protocol-in-ai">The role of a privacy-preserving communications protocol in AI<a href="#the-role-of-a-privacy-preserving-communications-protocol-in-ai" class="hash-link" aria-label="Direct link to The role of a privacy-preserving communications protocol in AI" title="Direct link to The role of a privacy-preserving communications protocol in AI">​</a></h2><p>Communication is one of the most important aspects of any application or service that uses any generative AI model. This is to solve the problem of censorship and safeguard user data from mass surveillance attacks.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-privacy-preserving-communications-over-traditional-web2-communications"><strong>Why privacy-preserving communications over traditional web2 communications?</strong><a href="#why-privacy-preserving-communications-over-traditional-web2-communications" class="hash-link" aria-label="Direct link to why-privacy-preserving-communications-over-traditional-web2-communications" title="Direct link to why-privacy-preserving-communications-over-traditional-web2-communications">​</a></h3><p>The AI space proposes a vast and unspoken risk of mass surveillance attacks. Centralised LLMs can log your prompts and identity in the pretext of data analytics and reinforcement learning. This means that the centralised stakeholders know about the conversations between you and your AI agent.</p><p>It gets even scarier when we think about the potential attacks that can be carried out with this data. Your AI agents can use critical information, such as your health conditions, to carry out targeted advertisements or data harvesting.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-waku-impact-communications-in-the-ai-space"><strong>How can Waku impact communications in the AI space?</strong><a href="#how-can-waku-impact-communications-in-the-ai-space" class="hash-link" aria-label="Direct link to how-can-waku-impact-communications-in-the-ai-space" title="Direct link to how-can-waku-impact-communications-in-the-ai-space">​</a></h3><p><a href="https://waku.org/" target="_blank" rel="noopener noreferrer">Waku</a> is a decentralised and privacy-preserving communications protocol that can be used to build securely scalable and robust communication between different nodes.</p><p>Waku has a huge potential to create an everlasting impact on the AI space. Waku can help AI projects fill up some of the most crucial technical gaps:</p><ol><li><p>Decoupling identity from data</p><p>Understandably, AI projects have the potential to generate massive amounts of data that can be useful in areas like big data analysis, analytics and reinforcement training. However, storing data sourced by an AI model can pose a considerable risk as the user's identity will be linked with their particular prompts. For example, a centralised LLM platform should be able to know about the critical health-related prompts that you search for.</p></li><li><p>By knowing the identity of a prompt, users are vulnerable to mass surveillance that can result in targeted advertising, social engineering and other attacks.</p><p>With a technology like Waku, decoupling the identity from the prompts is possible. All data generated from LLMs and GenAI models will be anonymous and private.</p></li><li><p>Censorship</p><p>Centralised gatekeepers can block traffic from a specific country or geographic/cultural/economic identity. By using Waku, a project cannot resolve the IP address of a message sender or receiver. The identity of every node in the network is dynamic. It can not reveal any geographic or cultural information, making it impossible for gatekeepers to ban a specific group of users.</p></li><li><p>Data security at its best</p><p>Waku provides flexibility for projects to choose their cryptographic encryption standard. This enables developers to build secure communication channels that do not force a specific type of encryption.</p></li><li><p>Federated Learning Networks</p><p>Waku can facilitate communication and data sharing among edge devices participating in federated learning networks. It can ensure privacy by enabling encrypted communication channels between devices, allowing them to collaborate on model training tasks without revealing sensitive data since the communication channels are built without revealing.</p></li><li><p>Decentralised AI Governance</p><p>Waku can facilitate decentralised governance mechanisms for AI systems, allowing stakeholders to participate in decision-making processes while maintaining privacy and transparency. This could be particularly useful in ensuring fairness, accountability, and transparency in AI systems.</p></li><li><p>Privacy-Preserving Data Labeling</p><p>An essential component of training AI models is data labelling. Waku can be used to crowdsource data labelling tasks while preserving the privacy of the labelled data. Workers can contribute labels without directly accessing the underlying data, mitigating privacy risks.</p></li><li><p>Decentralised Governance models for AI</p><p>Waku can facilitate decentralised governance mechanisms for AI systems, allowing stakeholders to participate in decision-making processes while maintaining privacy and transparency. This could be particularly useful in ensuring fairness, accountability, and transparency in AI systems.</p></li><li><p>DOS Protection for APIs</p><p>With Waku's Rate Limiting Nullifiers (RLN), it is possible to implement economic rate limiting for the API endpoints. Denial of Service (DoS) attacks cannot exploit the LLM models. Exposing an API endpoint without a proper rate-limiting mechanism can lead to service outages or unintended computation expenses.</p></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="some-closing-words"><strong>Some closing words</strong><a href="#some-closing-words" class="hash-link" aria-label="Direct link to some-closing-words" title="Direct link to some-closing-words">​</a></h3><p>The use cases mentioned above are just a few examples of where Waku can add value within the AI space. So many areas are yet to be explored, and the Waku team is on hand to help AI projects integrate a privacy-preserving communications infrastructure. <a href="https://discord.waku.org/" target="_blank" rel="noopener noreferrer">Reach out to the Waku team</a> if you want to learn more!</p>]]></content>
        <author>
            <name>Guru</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Build a dApp Using Waku and Vue.js]]></title>
        <id>https://waku.org/build-dapps-using-waku</id>
        <link href="https://waku.org/build-dapps-using-waku"/>
        <updated>2024-03-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Read in Spanish]]></summary>
        <content type="html"><![CDATA[<a href="/es/build-dapps-using-waku"><button class="lsd-button lsd-button--medium lsd-button--outlined"><span class="lsd-button__text">Read in Spanish</span></button></a><br><br><p>Did you know that far beyond being a mere industry buzzword, decentralised communication represents a strategic response to the vulnerabilities inherent in centralised systems? It prioritises privacy, security, and censorship resistance, making it an indispensable component in web developers' toolkits.</p><p>Traditional centralised communication systems have long struggled with censorship, single points of failure, and privacy concerns. With the rise of Web 3 and blockchain technology, decentralised communication solutions like Waku are emerging as a promising alternative. Waku offers a peer-to-peer messaging system that is resilient to censorship, scalable, and secure, making it an ideal choice for dApp developers looking to build next-generation applications.</p><p>This article will guide you on how to build a decentralised application (dApp) using Waku, an uncompromising decentralised communication protocol, and Vue.js, a popular JavaScript framework for building user interfaces. Before diving into the hands-on development aspects of this article, it is recommended that you have a basic understanding of Vue.js, familiarity with Tailwind CSS for UI styling, and a grasp of web3.js for seamless wallet integration.</p><p>If these technologies are new to you, no problem – this guide is meticulously created for all levels of expertise, providing step-by-step guidance at every level.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="understanding-waku"><strong>Understanding Waku</strong><a href="#understanding-waku" class="hash-link" aria-label="Direct link to understanding-waku" title="Direct link to understanding-waku">​</a></h2><p>Waku is a collection of decentralised peer-to-peer messaging protocols that enable secure and censorship-resistant communication over a decentralised network. Its features include end-to-end encryption, persistent/ephemeral messaging, and efficient peer discovery, providing a foundation for secure and reliable communication.</p><p>Waku operates within a peer-to-peer topology, creating a decentralised network that thwarts censorship and provides surveillance resistance. Its design supports scalability, with the ability to accommodate millions of users. It is designed to be the successor of Whisper, the messaging layer of the Ethereum blockchain peer-to-peer protocol suite, and outperforms it in scalability and resource efficiency.</p><p>Waku's architecture is underpinned by three distinct network interaction domains: gossip, discovery, and request/response. Although Waku is a cohesive whole in terms of capabilities, it encompasses three primary clients designed for different environments and several SDKs, including Rust, React Native, Kotlin, and Swift.</p><ol><li>nwaku: The reference implementation in Nim.</li><li>go-waku: Tailored for native integration with Golang applications.</li><li>js-waku: A JavaScript implementation optimized for browser environments.</li></ol><p>Waku consists of multiple protocols, each serving a specific function within the network. They include, but are not limited to:</p><ul><li>Waku Relay: The backbone of the Waku network, employing a pub/sub approach to peer-to-peer messaging. Emphasizes privacy, censorship resistance, and security, extending the libp2p GossipSub protocol.</li><li>Waku Filter: A lightweight version of the relay protocol designed for resource-restricted devices. Allows light nodes to receive specific messages of interest from full nodes.</li><li>Waku Store: Facilitates message retrieval for devices unable to participate in the Waku Relay network while offline.</li><li>Waku Light Push: A request/response protocol enabling nodes with short connection windows or limited bandwidth to publish messages to the Waku network.</li></ul><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="alt_text" src="/assets/images/waku-relay-shards-d61c1adfaa0d788d99babdcf885da9ba.png" width="813" height="642" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>Understanding Waku's architecture and protocols lays the groundwork for proceeding into practical implementations.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-cases-of-waku"><strong>Use cases of Waku</strong><a href="#use-cases-of-waku" class="hash-link" aria-label="Direct link to use-cases-of-waku" title="Direct link to use-cases-of-waku">​</a></h2><p>Waku's versatile architecture and capabilities find relevance in a myriad of real-world scenarios where secure and decentralised communication is paramount. Whether it's facilitating private conversations between users, enabling data exchange between devices, or supporting communication among nodes within a network, Waku emerges as a robust solution.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="privacy-focused-communication"><strong>Privacy-focused communication</strong><a href="#privacy-focused-communication" class="hash-link" aria-label="Direct link to privacy-focused-communication" title="Direct link to privacy-focused-communication">​</a></h4><p>Waku's emphasis on privacy makes it an ideal choice for scenarios where safeguarding user information is of utmost importance. In applications dealing with sensitive data or confidential conversations, Waku's end-to-end encryption and decentralised architecture provide a secure environment, mitigating the risks associated with centralised communication platforms.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="censorship-resistant-messaging"><strong>Censorship-resistant messaging</strong><a href="#censorship-resistant-messaging" class="hash-link" aria-label="Direct link to censorship-resistant-messaging" title="Direct link to censorship-resistant-messaging">​</a></h4><p>Waku offers a beacon of hope for unrestricted communication in regions where internet censorship is prevalent. Its peer-to-peer topology prevents centralised authorities from controlling or monitoring messaging traffic, ensuring that users can communicate freely without fear of censorship. This makes Waku particularly valuable in promoting freedom of expression and supporting open communication channels.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="use-in-dapps-for-decentralised-communication"><strong>Use in dApps for decentralised communication</strong><a href="#use-in-dapps-for-decentralised-communication" class="hash-link" aria-label="Direct link to use-in-dapps-for-decentralised-communication" title="Direct link to use-in-dapps-for-decentralised-communication">​</a></h4><p>Decentralised applications (DApps) form a burgeoning ecosystem where Waku can play a pivotal role. Waku's integration into dApps enhances communication functionalities, enabling real-time interactions among users while maintaining the decentralised ethos. This proves particularly valuable in scenarios such as collaborative platforms, social networks, or any application where user engagement and communication are central components.</p><p>By exploring the features and capabilities of Waku, it becomes evident that Waku's applicability extends beyond theoretical advantages, finding practical application in diverse areas.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="building-a-dapp-with-waku-and-vuejs"><strong>Building a dApp with Waku and Vue.js</strong><a href="#building-a-dapp-with-waku-and-vuejs" class="hash-link" aria-label="Direct link to building-a-dapp-with-waku-and-vuejs" title="Direct link to building-a-dapp-with-waku-and-vuejs">​</a></h2><p>Polling systems often face challenges related to centralisation, privacy concerns, and susceptibility to manipulation. By integrating Waku and Vue.js, we can tackle these challenges, creating a decentralised voting poll application that leverages the power of peer-to-peer communication.</p><p>Here is the entire source code of my voting poll app on GitHub: <a href="https://github.com/wolz-CODElife/waku-vue-poll.git" target="_blank" rel="noopener noreferrer">https://github.com/wolz-CODElife/waku-vue-poll.git</a> and the <a href="https://waku-vue-poll.vercel.app/" target="_blank" rel="noopener noreferrer">live application</a> is hosted on Vercel.</p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="alt_text" src="/assets/images/image-1-e2a7b7d5732a81ee34cd4082ae446b24.png" width="1600" height="962" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="alt_text" src="/assets/images/image-2-480c17eca69dabecd311787534ce0896.png" width="1600" height="962" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="alt_text" src="/assets/images/image-3-241d73cb8b5146a6c23ac036feafb8b1.png" width="1600" height="962" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dev-tools-i-used"><strong>Dev tools I used?</strong><a href="#dev-tools-i-used" class="hash-link" aria-label="Direct link to dev-tools-i-used" title="Direct link to dev-tools-i-used">​</a></h3><ul><li>Vite: To bootstrap the Vue3 application with the Tailwind template.</li><li>Vue 3: To build the user interface.</li><li>TypeScript: For type safety and potential for catching errors during compiling.</li><li>Tailwind CSS: For styling the user interface.</li><li>Web3.js: For implementing wallet connect.</li><li>Node Polyfill Webpack Plugin: For providing polyfills necessary for emitting Web3.js events in the browser. Since Vue3 uses webpack v5, where polyfill Node core modules were removed.</li><li>Crypto Hash: For hashing user address, where wallet is not available.</li><li>Protobufjs: For serializing message data sent through Waku.</li><li><code>@waku/sdk</code>: For accessing Waku node methods in JavaScript.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setting-up-the-development-environment"><strong>Setting up the development environment</strong><a href="#setting-up-the-development-environment" class="hash-link" aria-label="Direct link to setting-up-the-development-environment" title="Direct link to setting-up-the-development-environment">​</a></h3><p>To set up your development environment, ensure you have Node v18+ then open a new terminal in your working directory and run the following command:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm create vite@latest</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Which will begin a dialogue in the terminal, you can choose options that work for you, or use the same options as I used:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Need to install the following packages:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  create-vite@5.1.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Ok to proceed? (y) y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">✔ Project name: … waku-poll-app</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">✔ Select a framework: › Vue</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">✔ Select a variant: › TypeScript</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>This should create a new Vue application in your working directory, navigate to the app, install the default dependencies and start the app using the following command:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd waku-poll-app</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm run dev</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Next, we want to create a file structure that allows us to componentize the various parts of the app. Your <code>src</code> path should have a file structure like this:</p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="alt_text" src="/assets/images/image-4-378edf5f6f6fea4f6eb7fd5100c74a7d.png" width="530" height="302" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>As we proceed we will update files with the necessary code, as for <code>assets/3dpoll.jpg</code> feel free to replace it with any image you see fit for your landing page.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setting-up-tailwind-in-vuejs"><strong>Setting up Tailwind in Vue.js</strong><a href="#setting-up-tailwind-in-vuejs" class="hash-link" aria-label="Direct link to setting-up-tailwind-in-vuejs" title="Direct link to setting-up-tailwind-in-vuejs">​</a></h3><p>To build our UI, we need to first install and configure Tailwind CSS in Vue 3. You can follow the official guide on <a href="https://v2.tailwindcss.com/docs/guides/vue-3-vite#setting-up-tailwind-css" target="_blank" rel="noopener noreferrer">Setting up Tailwind CSS</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configuring-routes"><strong>Configuring routes</strong><a href="#configuring-routes" class="hash-link" aria-label="Direct link to configuring-routes" title="Direct link to configuring-routes">​</a></h3><p>To create multiple pages/routes in the app, we have to install Vue Router by running the following command in the terminal:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm install --save vue-router@next </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Install the latest version</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>In this app, we just need two routes: “Home” and “Polls” which we have inside the <code>src/views</code> folder. These routes will contain the Layout of each page, and then we can define the routes in the <code>src/router/index.ts</code> file by using the following code:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import Home from '@/views/Home.vue'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const routes: Array&lt;RouteRecordRaw&gt; = [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    path: '/',</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name: 'Home',</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    component: Home,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    path: '/polls',</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name: 'Polls',</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    component: () =&gt; import('../views/Polls.vue'),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const router = createRouter({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  history: createWebHistory(),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  routes,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export default router</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>In the code snippet above, a Vue.js router configuration is defined. We import the necessary functions and types from 'vue-router' and the Home component from <code>@/views/Home.vue</code>.</p><p>The routes array contains route definitions for the Home and Polls components. The router is created using createRouter and createWebHistory functions, and the routes we defined earlier.</p><p>The <code>component: () =&gt; import('../views/Polls.vue')</code> is used to dynamically import the 'Polls.vue' component. This is a feature provided by Vue.js to asynchronously load the component when it's needed, which can help improve initial page load performance by splitting the code into smaller chunks.</p><p>Finally, the router is exported so we can access it in “main.ts”.</p><p>Next, we register <code>router</code> to the Vue app by including it in the “main.ts” file like this:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// main.ts or main.js</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { createApp } from 'vue';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import App from './App.vue';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import './css/index.css'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import router from './router'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">createApp(App).use(router).mount('#app')</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Next, we will create a Layout for our application with the following inside “App.vue”:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;script lang="ts"&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;div class="flex flex-col h-screen justify-between"&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;router-view class="container max-w-8xl mx-auto mb-auto px-4" /&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;style&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#app {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -webkit-font-smoothing: antialiased;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -moz-osx-font-smoothing: grayscale;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  color: #2c3e50;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>In the code above, we use <code>router-view</code> to dynamically load the components of the current route into the DOM.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="installing-waku-and-its-dependencies"><strong>Installing Waku and its dependencies</strong><a href="#installing-waku-and-its-dependencies" class="hash-link" aria-label="Direct link to installing-waku-and-its-dependencies" title="Direct link to installing-waku-and-its-dependencies">​</a></h3><p>To get started with Waku in our Vue 3 application, we need to install <code>@waku/sdk</code> which is a TypeScript implementation of the Waku protocol designed for web browser environments.</p><p>To install <code>@waku.sdk</code> run the following command in the terminal:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm install @waku/sdk</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>It is also recommended to create a message structure for your app, typically Waku developers use <a href="https://protobuf.dev/" target="_blank" rel="noopener noreferrer">Protocol Buffers</a> for consistency, interoperability, compatibility and payload size. To install <code>protobufjs</code>, run the following command in the terminal:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm install protobufjs</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="implementing-waku-logic"><strong>Implementing Waku logic</strong><a href="#implementing-waku-logic" class="hash-link" aria-label="Direct link to implementing-waku-logic" title="Direct link to implementing-waku-logic">​</a></h3><p>The application runs on two fundamental logic, which are the wallet connect and Waku communication integrations. We will create two composables “waku.ts” and “client.ts” inside <code>src/composables</code>.</p><p>“waku.ts” contains all the methods our Vue app needs to interact with the Waku protocol and transmit messages(polls) across users on the app. Inside this file, you should have the following code:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { ref } from 'vue';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import protobuf, { Message } from 'protobufjs';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    createLightNode,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    waitForRemotePeer,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    createDecoder,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    createEncoder,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Protocols,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    IFilterSubscription,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">} from '@waku/sdk';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface PollOption {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    value: string;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    votes: number;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface PollMessage {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    question: string;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    options: { [key: string]: PollOption };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">interface Poll {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    msgid: string;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    timestamp: string;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sender: string;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    message: PollMessage;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // other properties...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const status = ref&lt;string&gt;('connecting...');</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const sender = ref(localStorage.getItem('senderWalletAddress') ?? '');</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const polls = ref&lt;Poll[]&gt;(JSON.parse(localStorage.getItem('polls') ?? '[]'));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const wakuNode = await createLightNode({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    defaultBootstrap: true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const waitForRemotePeers = async () =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Wait for a successful peer connection</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    await waitForRemotePeer(wakuNode, [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Protocols.LightPush,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        Protocols.Filter,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Choose a content topic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const contentTopic = '/waku-vue-poll/1/polls/proto';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// message encoder and decoder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const encoder = createEncoder({ contentTopic, ephemeral: true });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const decoder = createDecoder(contentTopic);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Message structure with Protobuf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const PollQuestionWakuMessage = new protobuf.Type('PollQuestion')</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .add(new protobuf.Field('timestamp', 1, 'string'))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .add(new protobuf.Field('msgid', 2, 'string'))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .add(new protobuf.Field('sender', 3, 'string'))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .add(new protobuf.Field('message', 4, 'string'));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const serializeMessage = (protoMessage: Message) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return PollQuestionWakuMessage.encode(protoMessage).finish()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export function useWaku() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    async function start() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        status.value = 'connecting'        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            await wakuNode?.start().then(() =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                if (wakuNode.isStarted()) return waitForRemotePeers()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }).then(() =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                return wakuNode.connectionManager.getPeersByDiscovery()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }).then((data:any) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                if (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    wakuNode.libp2p.getConnections().length ||</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    data.CONNECTED.bootstrap.length ||</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    data.CONNECTED['peer-exchange'].length</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    subscribe()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    status.value = "connected"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        catch (error) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            console.error('Error initializing Waku Light Node:', error);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            status.value = 'not connected';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    async function stop() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        unsubscribe();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        wakuNode.stop()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        status.value = 'not conencted';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let subscription = {} as IFilterSubscription</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    async function subscribe() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (!wakuNode || status.value !== 'connected') await start();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          subscription = await wakuNode?.filter?.createSubscription();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          await subscription.subscribe([decoder], (wakuMessage) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const messageObj = PollQuestionWakuMessage.decode(wakuMessage.payload).toJSON();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const result: Poll = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                timestamp: messageObj.timestamp,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                msgid: messageObj.msgid,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                sender: messageObj.sender,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                message: JSON.parse(messageObj.message ?? '{}')</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            handleSubscriptionResult(result);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        } catch (error) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          console.error('Error subscribing to Content Topic:', error);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      function handleSubscriptionResult(result:Poll) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const msgid = result.msgid;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const existingPollIndex = polls.value.findIndex(poll =&gt; poll.msgid === msgid);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (existingPollIndex !== -1) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // Update the existing poll</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          polls.value.splice(existingPollIndex, 1, result);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // Add the new poll to the array</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          polls.value.unshift(result);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (polls.value.length &gt; 0) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            localStorage.setItem('polls', JSON.stringify(polls.value));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    async function unsubscribe() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        subscription.unsubscribe([contentTopic])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    async function publish(sender: string, message: string, timestamp: string = new Date().toUTCString(), msgid: string = Date.now() + Math.floor(Math.random() * 90000).toString()) {    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (!wakuNode || status.value !== 'connected') await start()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            const protoData = PollQuestionWakuMessage.create({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                timestamp: timestamp,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                msgid: msgid,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                sender: sender,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                message: message</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return wakuNode.lightPush.send(encoder, { payload: serializeMessage(protoData) })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        catch (error) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            console.error('Error publishing to Content Topic:', error);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        wakuNode,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        status,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sender,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        polls,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        start,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        stop,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        subscribe,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        unsubscribe,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        publish,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>The above code enables interaction with the Waku network, enabling the creation and participation in polls within a Vue application.</p><p>Firstly, we import necessary functions and define data structure using TypeScript interfaces to set a standard for PollOption, PollMessage and Poll. These structures represent the questions and options available in a poll and the overall structure of a poll, respectively.</p><p>Reactive variables (status, sender, and polls) are defined to keep track of the connection status, the sender's information, and the list of polls. These variables will be necessary for updating the Vue application in response to changes in the Waku network.</p><p><em>Notice that we didn’t make WakuNode or any variable interacting with the Waku network directly reactive. As this will trigger <a href="https://github.com/waku-org/js-waku/issues/1746" target="_blank" rel="noopener noreferrer">issue #1746</a> due to Waku nodes being too complex for Vue mechanisms to handle, so we have to keep the WakuNode instance outside Vue’s reactive scope.</em></p><p><em>BTW, this took me almost 3 months to figure out 😭</em></p><p>The WakuNode connection is established using the createLightNode function, optimizing resource usage by creating a Waku light node. This node connects to the Waku network and waits for peers to join using the <a href="https://rfc.vac.dev/spec/19/" target="_blank" rel="noopener noreferrer">LightPush</a> and <a href="https://rfc.vac.dev/spec/12/" target="_blank" rel="noopener noreferrer">Filter</a> Protocols. We defined a specific <a href="https://docs.waku.org/learn/concepts/content-topics" target="_blank" rel="noopener noreferrer">Content Topic</a> for this app to categorize messages and should have this format, <code>/{application-name}/{version}/{content-topic-name}/{encoding}</code>, make sure to replace <code>WAKU_CONTENT_TOPIC</code> with your actual Content Topic. and Protobuf is utilized for encoding and decoding messages efficiently to suit the <code>PollQuestionWakuMessage</code> message structure.</p><p>After connecting to the Waku network, interaction follows. We created a function called useWaku() that encapsulates and returns all the variables and methods needed to interact with Waku across the entire application.</p><p>First, we have the <code>start()</code> function that initiates the WakuNode connection, waits for peers to connect and subscribes to the chosen content topic, before updating the user’s status to <code>status.value = "connected"</code>.</p><p>Next, we have <code>stop()</code> function that unsubscribes from the Content Topic and stops the WakuNode, before updating the user’s status to <code>status.value = 'not conencted'</code>.</p><p>Next, we have the <code>subscribe()</code> function that creates a subscription to the Content Topic using the Waku Filter, receives incoming poll messages, decodes them and updates the polls list. The handleSubscriptionResult function decodes incoming poll messages, checks for duplicates, and updates the list of polls accordingly.</p><p>Next, we have the <code>unsubscribe()</code> function that disconnects the app from the Content Topic.</p><p>Finally, the <code>publish()</code> function accepts the necessary parameters to create a new poll message and send the encoded poll message to the Waku network using the LightPush protocol.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="implement-wallet-connect-logic"><strong>Implement Wallet Connect logic</strong><a href="#implement-wallet-connect-logic" class="hash-link" aria-label="Direct link to implement-wallet-connect-logic" title="Direct link to implement-wallet-connect-logic">​</a></h3><p>The <code>sender</code> variable in the “waku.ts” composable stores the wallet address of the connected wallet. For us to implement wallet connect, we need to first install “Web3.js” by running the following command in the terminal:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm install web3</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Since Vue 3 uses webpack v5, we need to install Node Polyfill Webpack Plugin to provide the polyfills necessary for emitting Web3.js events in the browser. Run the following command in the terminal to install the Node Polyfill Webpack Plugin:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm i node-polyfill-webpack-plugin</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Then include it in the “vite.config.ts” so that your “vite.config.ts” looks like this:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { defineConfig } from 'vite';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import vue from '@vitejs/plugin-vue';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import path from 'path';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// https://vitejs.dev/config/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export default defineConfig({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  plugins: [vue()],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  resolve: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    alias: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      '@/': `${path.resolve(__dirname, 'src')}/`,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  optimizeDeps: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    include: ['node-polyfill-webpack-plugin'],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  esbuild: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    supported: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      'top-level-await': true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>You will notice we are also supporting <code>top-level-await</code>, this is because we are instantiating WakuNode at a top-level and the Vite build doesn’t support this.</p><p>Inside the “client.ts” we will have the following code:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import Web3 from 'web3';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { useWaku } from './waku';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import { sha256 } from 'crypto-hash';</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">declare global {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    interface Window {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ethereum: any;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        web3: any</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const waku = useWaku()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const generateUniqueID = () =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    const userAgentHash = sha256(navigator.userAgent + Math.floor(Math.random() * 90000));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  return userAgentHash;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Validate Ethereum Address</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export const validateEthereumAddress = (address:any) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return /^(0x)?[0-9a-fA-F]{40}$/.test(address);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export function useWalletConnect() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Improved connectWallet Function</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    async function connectWallet() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        if (window.ethereum) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                window.web3 = new Web3(window.ethereum);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                if (accounts.length &gt; 0 &amp;&amp; validateEthereumAddress(accounts[0])) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    const walletAddress = accounts[0];</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    waku.sender.value = walletAddress;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    localStorage.setItem('senderWalletAddress', walletAddress);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    console.error('Invalid Ethereum address detected. Generating fallback ID.');</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    generateUniqueID().then((hashID) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        const newHash = 'abcdef012345'[Math.floor(Math.random() * 12)] + "x" + hashID.slice(-20);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        waku.sender.value = newHash;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        localStorage.setItem('senderWalletAddress', newHash);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                await waku.start();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            } catch (error) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                console.error('Error connecting wallet:', error);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            console.log('No Ethereum wallet detected.');</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    async function disconnectWallet() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        localStorage.removeItem('senderWalletAddress');</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        localStorage.removeItem('polls');</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // stop waku's light node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        await waku.wakuNode.stop();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        waku.stop()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        waku.sender.value = ""</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        waku.status.value = "connecting..."</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        waku.polls.value = []</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    async function signMessage(msgid: string, stringifiedMessage:string) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        const messageToSign = `Message ID: ${msgid}, Content: ${stringifiedMessage}`;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        let signature;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            signature = await window.ethereum.request({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                method: 'personal_sign',</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                params: [messageToSign, waku.sender.value],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return signature</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        } catch (signError) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            console.error('Error signing the message:', signError);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        connectWallet,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        disconnectWallet,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        signMessage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>The above code enables users to connect their crypto wallet to the app as a means of identification. In this scenario, we used the wallet address as the sender of the poll.</p><p>However, some users may not have wallets and we don’t want to limit the application to only users that have crypto wallets. To tackle this, we created the <code>generateUniqueID()</code> function to form a random hash from the <code>navigator.userAgent</code> address of the user’s browser. Then we store the sender’s address in localStorage as “'senderWalletAddress'”.</p><p>We also created a <code>disconnectWallet()</code> function to remove the wallet address from localStorage and stop the WakuNode running.</p><p>To claim ownership of the polls, users have to sign each poll message using their wallet, for this the <code>signMessage</code> function is executed.</p><p>The <code>useWalletConnect</code> composable encapsulates and returns the <code>connectWallet</code>, <code>disconnectWallet</code> and <code>signMessage</code> functions so that they are accessible across the application.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="building-the-ui-components"><strong>Building the UI components</strong><a href="#building-the-ui-components" class="hash-link" aria-label="Direct link to building-the-ui-components" title="Direct link to building-the-ui-components">​</a></h3><p>Now that we have our logic, we can build the UI to utilize the data and methods in our composables.</p><p>We have 3 major components in this app, the <code>NavBar</code>, <code>Home</code> and <code>Polls</code>. Feel free to create your user interface or use mine:</p><ul><li><a href="https://github.com/wolz-CODElife/waku-vue-poll/blob/master/src/components/NavBar.vue" target="_blank" rel="noopener noreferrer">NavBar</a>: <code>src/components/NavBar.vue</code></li><li><a href="https://github.com/wolz-CODElife/waku-vue-poll/blob/master/src/views/Home.vue" target="_blank" rel="noopener noreferrer">Home</a>: <code>src/views/Home.vue</code></li><li><a href="https://github.com/wolz-CODElife/waku-vue-poll/blob/master/src/views/Polls.vue" target="_blank" rel="noopener noreferrer">Polls</a>: <code>src/views/.vue</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="creating-polls"><strong>Creating polls</strong><a href="#creating-polls" class="hash-link" aria-label="Direct link to creating-polls" title="Direct link to creating-polls">​</a></h3><p>If you go through my NavBar component code, you will find that we have a <code>ref</code> called poll:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">const poll = ref&lt;Poll&gt;({</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  question: "",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  options: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    a: { value: "", votes: 0},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    b: { value: "", votes: 0},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    c: { value: "", votes: 0},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    d: { value: "", votes: 0},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    e: { value: "", votes: 0}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">})</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>This <code>ref</code> is updated by the modal form, and on submit, we trigger the <code>sendMessage</code> function:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">const sendMessage = () =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  const stringifiedMessage = JSON.stringify(poll.value)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  const msgid = Date.now() + Math.floor(Math.random() * 90000).toString();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  const timestamp = new Date().toUTCString()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // sign message</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  signMessage(msgid, stringifiedMessage).then((signature) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // send a message</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    waku.publish(signature, stringifiedMessage, timestamp, msgid)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // reset question state</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    poll.value = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      question: "",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      options: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        a: { value: "", votes: 0},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        b: { value: "", votes: 0},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        c: { value: "", votes: 0},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        d: { value: "", votes: 0},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        e: { value: "", votes: 0}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    onToggle()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // redirect user to where the new poll is populated</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (router.currentRoute.value.path !== "/polls") {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      router.push("/polls")</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }).catch((error) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    console.error("Error sending message", error);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>In the above code, we stringify the poll data which includes the question, and options so that we can publish the poll as a message to Waku. Then we create a <code>msgid</code> and <code>timestamp</code> for the message, before using the user's wallet to sign the message. Once the message is signed, we call the <code>waku.publish(waku.sender.value, stringifiedMessage)</code> function to register the update for other users subscribing to the Content Topic.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="real-time-voting-and-result-polling"><strong>Real-time voting and result polling</strong><a href="#real-time-voting-and-result-polling" class="hash-link" aria-label="Direct link to real-time-voting-and-result-polling" title="Direct link to real-time-voting-and-result-polling">​</a></h3><p>In the “Poll.vue” component, we have a <code>handleVote()</code> function:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">const handleVote = async (msgid: string, selectedOption: string | number) =&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  loading.value = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Find the selected poll in the polls array</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    let selectedPollIndex = waku.polls.value.findIndex((poll) =&gt; poll.msgid === msgid);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if (selectedPollIndex !== -1) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Update the vote count before publishing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      waku.polls.value[selectedPollIndex].message.options[selectedOption].votes += 1;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Create a reactive copy to trigger reactivity</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      const reactiveCopy = reactive({ ...waku.polls.value[selectedPollIndex] });</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Publish the updated poll</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      const stringifiedMessage = JSON.stringify(reactiveCopy.message);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      await waku.publish(reactiveCopy.sender , stringifiedMessage, reactiveCopy.timestamp, msgid);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Store the msgid in local storage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      votedPolls.value.push(msgid);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      localStorage.setItem('votedPolls', JSON.stringify(votedPolls.value));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    loading.value = false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } catch (error) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    console.error('Error in handleVote:', error);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>This function is triggered when the radio input of any option is clicked. This function collected the <code>msgid</code> and the <code>selectedOption</code> as parameters. Then call the <code>subscribe()</code> function to fetch the latest version of the polls, before updating the vote counts of an option in the poll that has the <code>msgid</code>.</p><p>We created a reactive copy of the poll so that the vote count update will be reflected even if the state changes. Then we publish the reactive copy, which will send the updated poll results to all the users that are subscribed to the Content Topic of this app.</p><p>To track the polls a user has voted for, we store a “votePolls” array in the localStorage.</p><p>Feel free to play around with the functionality and optimize the performance to meet your application requirements.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="summary-of-the-article"><strong>Summary of the article</strong><a href="#summary-of-the-article" class="hash-link" aria-label="Direct link to summary-of-the-article" title="Direct link to summary-of-the-article">​</a></h2><p>In this comprehensive guide, we embarked on a journey to integrate Waku, a decentralised communication protocol, into a Vue.js application, creating a real-time voting poll dApp. Let's recap the key takeaways from the guide:</p><ul><li>Understanding Waku<ul><li>Explored Waku as a family of protocols facilitating private, censorship-resistant communications over a decentralised network.</li><li>Examined Waku's features, architecture, and its focus on privacy, decentralisation, and adaptability to various platforms.</li><li>Discussed the different components of Waku, such as Waku Relay, Waku Filter, Waku Store, and Waku Light Push.</li></ul></li><li>Use Cases of Waku<ul><li>Discussed real-world scenarios where Waku proves invaluable, emphasizing its role in privacy-focused communication, censorship-resistant messaging, and decentralised communication within dApps.</li></ul></li><li>Building a dApp with Waku and Vue.js<ul><li>Set up a Vue.js application using Vite and Tailwind CSS.</li><li>Established a connection to the Waku network, implemented wallet authentication using Web3.js, and integrated the <code>@waku/sdk</code> for decentralised communication.</li><li>Demonstrated the step-by-step process of building a real-time voting poll, connecting to the Waku network.</li></ul></li></ul><p>As you conclude this guide, consider taking the following actions to further explore and experiment with Waku:</p><ol><li><strong>Waku Documentation</strong>: Visit the <a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">Waku documentation</a> to delve deeper into the functionalities, protocols, and use cases of Waku.</li><li><strong>Experiment with Additional Functionalities</strong>: Extend the capabilities of your dApp by experimenting with additional functionalities provided by Waku. Explore features like ephemeral messaging, decentralised storage, and more to enhance your DApps.</li><li><strong>Join the Waku Community</strong>: Engage with the <a href="https://waku.org/community/" target="_blank" rel="noopener noreferrer">Waku community</a> on forums, social media, or developer channels. Connect with like-minded developers, share your experiences, and stay updated on the latest developments within the Waku ecosystem.</li><li><strong>Contribute to Waku</strong>: Consider <a href="https://waku.org/about/team" target="_blank" rel="noopener noreferrer">contributing</a> to the Waku project on platforms like GitHub. Whether it's reporting issues, submitting pull requests, or suggesting improvements, your contributions can play a vital role in the growth of this decentralised communication protocol.</li></ol>]]></content>
        <author>
            <name>Joel Adewole</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[February EcoDev Roundup]]></title>
        <id>https://waku.org/february-roundup</id>
        <link href="https://waku.org/february-roundup"/>
        <updated>2024-03-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Updates from the EcoDev team in February 2024, plus highlights from the community call.]]></summary>
        <content type="html"><![CDATA[<p>Updates from the EcoDev team in February 2024, plus highlights from the community call.</p><hr><p>The EcoDev team at Waku covers community, growth, partnerships, and communications. Each month, we will share the key highlights and team progress. You can <a href="https://waku.org/subscribe/" target="_blank" rel="noopener noreferrer">subscribe</a> to the monthly newsletter if you prefer to receive an abridged version of these updates in your inbox.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">​</a></h2><p><strong>ETHDenver 23rd February - 3rd March </strong></p><p>The Waku team has been participating in a number of initiatives during ETHDenver. If you're there, there is still time to <a href="https://waku.org/events/eth-denver/" target="_blank" rel="noopener noreferrer">schedule a meeting with the team</a> to discuss integrating Waku, or to exchange ideas about the future of web3 and privacy. </p><p>Waku Developer Relations Engineer Guru spoke at the <a href="https://lu.ma/workable" target="_blank" rel="noopener noreferrer">Workable Web3 Summit</a> yesterday, discussing the importance of designing dApps and protocols which are user-friendly and offer interoperable features. Guru also participated in <a href="https://lu.ma/libp2pday-denver" target="_blank" rel="noopener noreferrer">Libp2p day</a>, delivering a talk on 'Building Censorship Resistant Infrastructure with Waku and Libp2p'. </p><p>Waku Program Manager Aaron Bendersky will also be speaking at Build Cities' network state side event later today, March 1st. <a href="https://twitter.com/Waku_org/status/1761007265262325835" target="_blank" rel="noopener noreferrer">Check out his panel</a> ‘Cultural Economics: How Culture Drives Local &amp; Network Economies'.</p><p><strong>ETHLatam 13th - 14th March</strong></p><p>The first hackathon of the year is quickly approaching. Waku is sponsoring ETHLatam from March 13th to 14th with US$2,500 in bounties up for grabs. Each project submission should be private by design, abiding by the values of privacy upheld by Waku. <a href="https://twitter.com/Waku_org/status/1757425618575376574" target="_blank" rel="noopener noreferrer">Read more</a> on how to participate. </p><p>Guru’s workshop ‘Uncompromising Web3 Communication at Scale with Waku’ will be live-streamed on X March 13th. Ensure you’re <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">following Waku</a> to catch his workshop-stye deep dive into Waku technology, which includes a live coding session.</p><p><strong>ETHTaipei 21st - 24th March</strong></p><p>During the conference, Waku Protocol Engineer Danish Arora will present on “Bridging the Gap in Decentralised Communications with Waku”. Danish will also be at the <a href="https://twitter.com/LibertyHouse_1" target="_blank" rel="noopener noreferrer">Liberty ZK Hacker House</a> side event on March 25th, presenting “Leveraging ZK proofs for spam mitigation in a p2p multi-client environment | Waku with RLN.”</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="press">Press<a href="#press" class="hash-link" aria-label="Direct link to Press" title="Direct link to Press">​</a></h2><p>As the communications layer of the Logos technology stack, Waku has properties that will resonate deeply with web3 developers across Latin America who understand how peer-to-peer protocols stand to strengthen the civil liberties of citizens and work to address online censorship. </p><p>See the coverage of Waku's upcoming participation at ETHLatam in <a href="https://es.cointelegraph.com/press-releases/waku-advances-in-the-protection-of-communications-privacy-in-latin-america-at-ethlatam" target="_blank" rel="noopener noreferrer">Cointelegraph</a> and <a href="https://www.criptonoticias.com/comunidad/empresa-recompensa-hackers-ethlatam-2-500-dolares/" target="_blank" rel="noopener noreferrer">Criptonoticias</a>. You can also listen back to <a href="https://twitter.com/i/spaces/1dRKZEqZXwXxB?s=20" target="_blank" rel="noopener noreferrer">ETHLatam’s X Space</a> where <a href="https://twitter.com/Crypto_marina" target="_blank" rel="noopener noreferrer">Marina</a> and <a href="https://twitter.com/hackyguru" target="_blank" rel="noopener noreferrer">Guru</a> shared insights into how hackers can prepare to build with Waku during the hackathon. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="content">Content<a href="#content" class="hash-link" aria-label="Direct link to Content" title="Direct link to Content">​</a></h2><p>If you are new to Waku, <a href="https://www.youtube.com/watch?v=SK5TF3l3XM4" target="_blank" rel="noopener noreferrer"> this short intro video</a> can help you get up to speed on what Waku is and which use cases it suits. Remember to <a href="https://www.youtube.com/@waku-org" target="_blank" rel="noopener noreferrer">subscribe</a> to the new YouTube channel to be alerted of new content published. </p><p>Since the launch of Bitcoin, people have been calling for a blockchain that can protect the privacy of their transactions. Secret Network and Logos both joined Waku for <a href="https://twitter.com/i/spaces/1dRKZEVewaNxB?s=20" target="_blank" rel="noopener noreferrer">an X space</a> discussing how to realise privacy-preserving messaging on blockchain using protocols such as Waku. </p><p>The dev team recorded this Waku message <a href="https://twitter.com/Waku_org/status/1755972110684705142" target="_blank" rel="noopener noreferrer">travelling around the world</a>. Five DigitalOcean machines were connected to simulate five hops between Singapore, Bangalore, San Francisco, New York, and Frankfurt.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="research-and-development">Research and Development<a href="#research-and-development" class="hash-link" aria-label="Direct link to Research and Development" title="Direct link to Research and Development">​</a></h2><p>There is a new <a href="https://docs.waku.org/research/" target="_blank" rel="noopener noreferrer">research zone</a> on the Waku documentation site. The zone includes insights, benchmarks, and challenges that the Waku team is exploring. Some of the studies available for you to dive deep into include topics such as network incentivisation, capped bandwidth in Waku, and network propagation times. </p><p>The Research and Development team are the minds working to push forward the development of Waku protocols. Here are some of the key highlights from the team last month. </p><ul><li>The first version of the RFC on incentivising Waku (light) protocols has been released, with an extra section on the proof-of-concept implementation for Waku Store. <a href="https://github.com/vacp2p/rfc/pull/642" target="_blank" rel="noopener noreferrer">Check out the Github PR</a> and <a href="https://github.com/waku-org/research/issues/81" target="_blank" rel="noopener noreferrer">Waku Store v3 protocol</a>.</li><li>nwaku is the reference implementation of the Waku protocol. To enable developers to use the reference implementation in their native application, nwaku needs to expose c-bindings. <a href="https://github.com/waku-org/nwaku/issues/1332" target="_blank" rel="noopener noreferrer">Check out the work we’ve started on </a>Python bindings. </li><li>Waku latency simulations have been added to a real environment. <a href="https://github.com/waku-org/research/pull/85" target="_blank" rel="noopener noreferrer">Check out the pull request </a>and <a href="https://docs.waku.org/research/research-and-studies/message-propagation/" target="_blank" rel="noopener noreferrer">read the docs</a> on message propagation times with Waku-RLN.</li><li>Waku Relay is responsible for disseminating messages but cannot guarantee delivery. The push-based propagation (PubSub) of Relay can be augmented with a pull-based method, in our case, Sync. <a href="https://github.com/waku-org/research/issues/80" target="_blank" rel="noopener noreferrer">Check out the Waku sync overview first draft</a>.</li></ul><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="waku-community-call-and-ama"><strong>Waku Community Call and AMA</strong><a href="#waku-community-call-and-ama" class="hash-link" aria-label="Direct link to waku-community-call-and-ama" title="Direct link to waku-community-call-and-ama">​</a></h2><p>Waku hosts a Community Call on X during the last week of each month. The objective of the call is to update the community on progress and provide a space where questions can be put directly to the team.</p><p>The February Community Call took place last week on the 28th of January. You can <a href="https://twitter.com/i/spaces/1lDxLPQrqgoxm/peek" target="_blank" rel="noopener noreferrer">listen back to the full Space</a>, and read the highlights below.</p><p><a href="https://twitter.com/hackyguru" target="_blank" rel="noopener noreferrer">Guru</a>, and <a href="https://twitter.com/danisharora099" target="_blank" rel="noopener noreferrer">Danish</a> from the Waku team led the call.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nwaku-node-campaign">nwaku node campaign<a href="#nwaku-node-campaign" class="hash-link" aria-label="Direct link to nwaku node campaign" title="Direct link to nwaku node campaign">​</a></h3><p>Guru announced several initiatives for Waku node runners. Anyone who is running an nwaku node is invited to post a photo on X, tagging @waku_org and using #ProofOfNode. Waku will share your post and give you a shoutout. He also announced that they were working on early-stage node operator and onboarding programs that will be formally announced in the coming weeks. Currently, the Waku team is collecting feedback from operators on their experience setting up a node; <a href="https://discord.com/invite/gMPAzmcDER" target="_blank" rel="noopener noreferrer">drop a message on Discord</a> to leave any feedback you may have. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="does-js-waku-currently-support-react-native">Does js-waku currently support React Native?<a href="#does-js-waku-currently-support-react-native" class="hash-link" aria-label="Direct link to Does js-waku currently support React Native?" title="Direct link to Does js-waku currently support React Native?">​</a></h3><p>Libp2p, the modular network stack and protocol suite that Waku is built on top of, recently added support for React native. However, while it is technically enabled, the team has not been able to test it on Waku yet and as so Waku does not officially support it. Testing is on the roadmap for 2024. For now, we provide C bindings which should make it possible for mobile developers to use Waku. Find what you need in the <a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">Guides</a> section of the documentation site. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-encryption-methods-are-currently-available-in-the-waku-library">What encryption methods are currently available in the Waku library?<a href="#what-encryption-methods-are-currently-available-in-the-waku-library" class="hash-link" aria-label="Direct link to What encryption methods are currently available in the Waku library?" title="Direct link to What encryption methods are currently available in the Waku library?">​</a></h3><p>The team strives to keep Waku as unopinionated as possible, so encryption and decryption of payloads are left for application layer developers to choose from. That said, AES, ECIES and Noise encryption are provided by the Waku protocols and libraries.</p><hr><p>That is it for this month’s EcoDev roundup!</p><p>If you have questions about what the team has been doing or want to join a like-minded community focused on bringing peer-to-peer communications to millions of users, join the Waku <a href="https://discord.com/invite/gMPAzmcDER" target="_blank" rel="noopener noreferrer">Discord</a> or follow us on <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">X</a>.</p><p><a href="https://waku.org/subscribe/" target="_blank" rel="noopener noreferrer">Subscribe</a> to the monthly newsletter for these updates directly in your inbox.</p>]]></content>
        <author>
            <name>Amelia Trapp</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[January EcoDev Roundup]]></title>
        <id>https://waku.org/january-ecodev</id>
        <link href="https://waku.org/january-ecodev"/>
        <updated>2024-02-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Updates from the EcoDev team in January 2024, plus highlights from the first Waku community call.]]></summary>
        <content type="html"><![CDATA[<p>Updates from the EcoDev team in January 2024, plus highlights from the first Waku community call. </p><p>The EcoDev team at Waku covers community, growth, partnerships, and communications. Each month, we will share the key highlights and progress of the team. You can <a href="https://waku.org/subscribe/" target="_blank" rel="noopener noreferrer">subscribe</a> to the monthly newsletter if you prefer to receive an abridged version of these updates in your inbox. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="events-and-hackathons">Events and Hackathons<a href="#events-and-hackathons" class="hash-link" aria-label="Direct link to Events and Hackathons" title="Direct link to Events and Hackathons">​</a></h2><p>In 2023, Waku participated in three hackathons and eight events across four continents. We are gearing up for another year full of events; expect to see us all around the globe once again. Waku will be attending two key in-person events in Q1 2024. We will focus on growing the developer community and meeting with projects to support further integrations with Waku.</p><p><strong>ETHDenver 23rd February - 3rd March</strong></p><p>Meet the Waku team attending ETHDenver: Aaron Bendesrky, Waku Program Manager at Logos, Pedro Lains, Business Development Lead, and Guru T, Developer Relationships Engineer. ETHDenver is a great opportunity to meet the Waku team face to face; attendees can book an appointment with the team <a href="https://waku.org/events/eth-denver/" target="_blank" rel="noopener noreferrer">here</a>.</p><p><strong>ETHLatam 13th - 14th March</strong></p><p>Waku has $3,500 in bounties on offer during the hackathon. The team on the ground will support the hackers across the two days in building their projects for submission, and we expect to see many more new use cases for Waku.</p><p>Anybody hosting a side event at ETHDenver or ETHLatam and would like to collaborate with Waku, drop us message on <a href="https://discord.com/invite/gMPAzmcDER" target="_blank" rel="noopener noreferrer">Discord</a>. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="press-and-media">Press and Media<a href="#press-and-media" class="hash-link" aria-label="Direct link to Press and Media" title="Direct link to Press and Media">​</a></h2><p><strong>Vitalik Buterin Recognises Waku: </strong>This month, Waku received an excellent shout-out from Vitalik Buterin, who recognised Waku as the successor of Whisper, the original peer-to-peer communications protocol for Ethereum. In a <a href="https://vitalik.eth.limo/general/2023/12/28/cypherpunk.html#ethereum-as-part-of-a-broader-technological-vision" target="_blank" rel="noopener noreferrer">blog post</a>, Buterin supported Waku as the realisation of the cypherpunk messaging protocol imagined by Gavin Wood.</p><p>The story was also covered in <a href="https://cointelegraph.com/press-releases/vitalik-buterin-recognises-waku-as-the-peer-to-peer-communications-layer-of-gavin-woods-web3-vision" target="_blank" rel="noopener noreferrer">CoinTelegraph</a>, <a href="https://cryptodaily.co.uk/2024/01/meet-waku-the-peer-to-peer-communications-protocol-recognized-by-vitalik-buterin" target="_blank" rel="noopener noreferrer">CryptoDaily</a>, and <a href="https://thedefiant.io/waku-the-p2p-communication-protocol-for-web3-recognized-by-vitalik-buterin" target="_blank" rel="noopener noreferrer">The Defiant</a>. </p><p><strong>Waku was voted as a top privacy project of 2023</strong>: Web3 Privacy Now included Waku on their long list of <a href="https://mirror.xyz/0x0f1F3DAf416B74DB3DE55Eb4D7513a80F4841073/LdOt0mlG_nXqhnmLf7s-X13NDNdpwQw72ESKaJq-0zA" target="_blank" rel="noopener noreferrer">top privacy-focused projects</a> of the year. The finalists were voted on by over 100 privacy enthusiasts, developers, researchers, cryptographers, cypherpunks, and community builders from DarkFi, Nym, Swarm, Logos, Railgun, and many other organisations.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="developer-resources">Developer Resources<a href="#developer-resources" class="hash-link" aria-label="Direct link to Developer Resources" title="Direct link to Developer Resources">​</a></h2><p><strong>The Waku React package:</strong> The package provides the components and UI adapters needed to integrate Waku SDK into React applications effortlessly. We developed the package in response to feedback from hackathon participants last year. The documentation, including detailed steps on using the package, <a href="https://docs.waku.org/guides/js-waku/use-waku-react/" target="_blank" rel="noopener noreferrer">can be found here</a>. </p><p>There is also a <a href="https://blog.waku.org/tictactoe-tutorial/" target="_blank" rel="noopener noreferrer">beginner-friendly tutorial</a> for building a simple tic-tac-toe game that can be played by two players who are connected using Waku.</p><p><strong>Open Bounties:</strong> We have reviewed and revised the Waku bounties, ensuring that these tasks are beginner-friendly. Our goal is to make it easier for newcomers to Waku to contribute and, in turn, support the growth of the ecosystem. Anyone can work on the bounties at their own pace, as there is no hard cut-off date. When a bounty proposal is approved, it will be marked as ‘Assigned’. Find the open bountie <a href="https://github.com/waku-org/bounties/issues" target="_blank" rel="noopener noreferrer">here</a>.</p><p><strong>Bounty Shipped:</strong> We are excited to announce a recent 1,000 DAI bounty shipped, awarded to Joel Adewole for a <a href="https://dev.to/wolzcodelife/build-a-dapp-using-waku-decentralized-communication-and-vuejs-1nnf" target="_blank" rel="noopener noreferrer">poll app built with Waku and Vue3</a>. The app is a spin-off of the popular platform Kahoot, with short-lived sessions and storage of the poll. Joel's documentation is <a href="https://github.com/wolz-CODElife/waku-vue-poll?tab=readme-ov-file" target="_blank" rel="noopener noreferrer">available on GitHub</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="team-updates">Team Updates<a href="#team-updates" class="hash-link" aria-label="Direct link to Team Updates" title="Direct link to Team Updates">​</a></h2><p>The team has expanded this month, with the new EcoDev Team Lead, Marina and a new Business Development Lead, Pedro, joining the team.</p><p>You can connect with <a href="https://twitter.com/Crypto_marina" target="_blank" rel="noopener noreferrer">Marina</a> and <a href="https://twitter.com/bigbraincap" target="_blank" rel="noopener noreferrer">Pedro</a> on X.</p><p>If you are interested in working with Waku, <a href="https://boards.greenhouse.io/waku/jobs/5607301" target="_blank" rel="noopener noreferrer">we are currently hiring a Software Engineer</a> to work with the Waku Chat SDK. The position is fully remote, and we hire globally. </p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="waku-community-call-and-ama">Waku Community Call and AMA<a href="#waku-community-call-and-ama" class="hash-link" aria-label="Direct link to Waku Community Call and AMA" title="Direct link to Waku Community Call and AMA">​</a></h2><p>Waku will host a Community Call on X on the last Friday of each month. The objective of the call is to update the community on our progress and provide a space where questions can be put to the team </p><p>The first Community Call took place last week on the 26th of January. You can <a href="https://twitter.com/Waku_org/status/1750927368644919722" target="_blank" rel="noopener noreferrer">listen back to the full Space</a>, and read the highlights below. </p><p><a href="https://twitter.com/vpavlin" target="_blank" rel="noopener noreferrer">Vaclav</a>, <a href="https://twitter.com/hackyguru" target="_blank" rel="noopener noreferrer">Guru</a>, and <a href="https://twitter.com/vrycmfy" target="_blank" rel="noopener noreferrer">Aaron</a> from the Waku team participated in the call. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="waku-network-updates">Waku network updates<a href="#waku-network-updates" class="hash-link" aria-label="Direct link to Waku network updates" title="Direct link to Waku network updates">​</a></h3><p><strong>Vaclav</strong>: We are very proud to have released the Waku Network Gen 0 in December last year. If you don't know what the Waku Network is, it is our attempt to formalise a network of peer-to-peer nodes that would form some network running Waku protocols.  It offers first-of-its-kind privacy-preserving DoS protections for peer-to-peer messaging.</p><p>It's just the beginning of the Waku Network. We are drafting the <a href="https://github.com/waku-org/pm/blob/master/ROADMAP.md" target="_blank" rel="noopener noreferrer">2024 roadmap</a> with the research team, although it's still subject to change. There’s also an interesting discussion you can join in the <a href="https://forum.vac.dev/t/message-validation-marketplace-waku-network-of-networks/262/2" target="_blank" rel="noopener noreferrer">Vac Forum</a>.</p><p>As part of Generation 0 of Waku Network, we have integrated sharding, ensuring that it’s scalable to thousands of users and that the bandwidth is reasonable for people running on Raspberry Pis or smaller devices with weaker connectivity. Our client targeted at low-resource devices, JSWaku, has been making progress towards fully supporting sharding and, by that, supporting the full Waku Network.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="future-incentivisation-for-running-waku-nodes">Future incentivisation for running Waku nodes?<a href="#future-incentivisation-for-running-waku-nodes" class="hash-link" aria-label="Direct link to Future incentivisation for running Waku nodes?" title="Direct link to Future incentivisation for running Waku nodes?">​</a></h3><p><strong>Vaclav: </strong>We are often asked about how we incentivise node runners, as well as who is running the nodes and why. There are currently no monetary or token incentives. However, the research team recently <a href="https://github.com/waku-org/research/blob/master/docs/incentivization.md" target="_blank" rel="noopener noreferrer">defined the problem</a> and is building the first PoC. That's very interesting and promising for the future of Waku node operators to get something in return.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="growth-of-the-waku-dev-ecosystem">Growth of the Waku dev ecosystem<a href="#growth-of-the-waku-dev-ecosystem" class="hash-link" aria-label="Direct link to Growth of the Waku dev ecosystem" title="Direct link to Growth of the Waku dev ecosystem">​</a></h3><p><strong>Guru: </strong>We had our first Waku hackathon at ETHRome last year, where 120 hackers participated. We received eight project submissions from EthRome, which was a high number for us as a first-time sponsor. At ETHIstanbul our submissions increased to 20. We closed the year with ETHIndia where we had a huge total of 51 project submissions.</p><p>The graph has been trending consistently upwards as more hackers and developers discover Waku. We are exploring ways to offer support to these projects in terms of development, as well as raising funding and grants.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="project-integrations-with-waku">Project integrations with Waku<a href="#project-integrations-with-waku" class="hash-link" aria-label="Direct link to Project integrations with Waku" title="Direct link to Project integrations with Waku">​</a></h3><p><strong>Guru: </strong>Waku has been integrated into several existing projects already. <a href="https://status.app/" target="_blank" rel="noopener noreferrer">Status</a>, of course, is the original use case for Waku. We're in the final stages of collaborating with Status to integrate Waku's latest developments.</p><p><a href="https://www.railgun.org/" target="_blank" rel="noopener noreferrer">Railgun</a> has been friends of Waku for a long period of time, and they integrated Waku around a year and a half ago. We also completed an integration with <a href="https://thegraph.com/" target="_blank" rel="noopener noreferrer">The Graph</a>, which uses Waku in its Graphcast SDK to decentralise its indexes.</p><p><a href="https://www.silencelaboratories.com/" target="_blank" rel="noopener noreferrer">Silence Laboratories</a> has also been building a multiparty computation (MPC) on top of Waku.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-meaning-behind-the-name-waku">The meaning behind the name Waku<a href="#the-meaning-behind-the-name-waku" class="hash-link" aria-label="Direct link to The meaning behind the name Waku" title="Direct link to The meaning behind the name Waku">​</a></h3><p><strong>Vaclav: </strong>The word Waku is Japanese meaning to well up, to gush forth, and to spring out. </p><p>Waku also has a meaning in Chewa language, a language spoken in Malawi. If we want to use the Chewa language meaning, it’s close to <em>keep your data local and your communication borderless</em>, which fits perfectly.</p><hr><p>That is it for this month’s Eco Dev roundup!</p><p>If you have questions about what the team has been doing or want to join a like-minded community focused on bringing peer-to-peer communications to millions of users, join the Waku <a href="https://discord.com/invite/gMPAzmcDER" target="_blank" rel="noopener noreferrer">Discord</a> or follow us on <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">X</a>.</p><p><a href="https://waku.org/subscribe/" target="_blank" rel="noopener noreferrer">Subscribe</a> to the monthly newsletter for these updates directly in your inbox.</p>]]></content>
        <author>
            <name>Amelia Trapp</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Building a Tic-Tac-Toe Game with Waku]]></title>
        <id>https://waku.org/tictactoe-tutorial</id>
        <link href="https://waku.org/tictactoe-tutorial"/>
        <updated>2024-01-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[In this beginner-friendly tutorial, we will be building a basic TicTacToe game that can be played by two players who are connected using Waku.]]></summary>
        <content type="html"><![CDATA[<p>In this beginner-friendly tutorial, we will be building a basic TicTacToe game that can be played by two players who are connected using Waku.</p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="header" src="/assets/images/tictactoe-tutorial-a18c79c793c8d2cb6938bb58efa92875.png" width="3395" height="1813" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-is-waku">What is Waku<a href="#what-is-waku" class="hash-link" aria-label="Direct link to What is Waku" title="Direct link to What is Waku">​</a></h2><p>Waku is a family of robust, censorship-resistant, and privacy-preserving communication protocols designed to enable perfomant messaging for web3 apps. When I say ‘messaging’, this does not restrict Waku’s use cases just to building ‘text’ messaging apps; Waku can also support other use cases like games, marketplaces, governance tooling, and much more.</p><p>If you wish to know more about what Waku offers - check out the <a href="https://waku.org" target="_blank" rel="noopener noreferrer">website</a> or <a href="https://docs.waku.org" target="_blank" rel="noopener noreferrer">developer documentation</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-waku-for-building-a-tic-tac-toe-game">Why Waku for building a Tic-Tac-Toe game?<a href="#why-waku-for-building-a-tic-tac-toe-game" class="hash-link" aria-label="Direct link to Why Waku for building a Tic-Tac-Toe game?" title="Direct link to Why Waku for building a Tic-Tac-Toe game?">​</a></h2><p>A Tic-Tac-Toe game is one of the most straightforward project ideas that can be implemented with Waku. This is because it involves just two players and has minimal web3 jargon. Implementing the game is very clear for anyone with prior experience in building with React-based frameworks and some enthusiasm to learn Waku.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getting-started-with-building">Getting started with building<a href="#getting-started-with-building" class="hash-link" aria-label="Direct link to Getting started with building" title="Direct link to Getting started with building">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3><ul><li>Some intermediate-level knowledge of React based frameworks (in this tutorial, we use NextJS)</li><li>Understanding of Waku's architecture</li><li>Some coffee to sip along</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wireframing">Wireframing<a href="#wireframing" class="hash-link" aria-label="Direct link to Wireframing" title="Direct link to Wireframing">​</a></h3><p>Before we start, let us visualise the project's wireframe for a better understanding: </p><p></p><div class="wrapper_SWrM active_qZD5"><img loading="lazy" alt="wireframe" src="/assets/images/wireframe-ttt-21cd5068888fdf6115fa38015567ab91.png" width="1285" height="778" class="img_ev3q"><button class="fullscreenButton_Bocn lsd-icon-button lsd-icon-button--medium lsd-icon-button--outlined"><div class="icon_S7Kx dark_qPiS m_thRi"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M1.75 2.917V5.25h1.167V2.917H5.25V1.75H2.917A1.17 1.17 0 0 0 1.75 2.917ZM2.917 8.75H1.75v2.333a1.17 1.17 0 0 0 1.167 1.167H5.25v-1.167H2.917V8.75Zm8.166 2.333H8.75v1.167h2.333a1.17 1.17 0 0 0 1.167-1.167V8.75h-1.167v2.333Zm0-9.333H8.75v1.167h2.333V5.25h1.167V2.917a1.17 1.17 0 0 0-1.167-1.167Z" fill="#fff"></path></svg></div></button></div><p></p><p>The first screen on the left will be our landing screen with two buttons for starting a new game or joining an existing one. Each of the games in our TicTacToe game will have a <code>room-id</code> which two players will be connected to.</p><p>Waku follows a 'content topic based architecture', meaning that the messages are routed and stored based on different content topics across the network. In our case, the content topic would be the <code>room-id</code> since it maps perfectly. Two players in a game will be connected by publishing on and subscribing to the same content-topic/<code>room-id</code>.</p><p>Do not worry if you need clarification about this - you can figure it out in the next steps as you build the project.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-1--create-a-nextjs-project">Step 1 : Create a NextJS project<a href="#step-1--create-a-nextjs-project" class="hash-link" aria-label="Direct link to Step 1 : Create a NextJS project" title="Direct link to Step 1 : Create a NextJS project">​</a></h3><p>Kickstarting a new NextJS project is super easy by using the command below:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npx create-next-app@latest TicTacToe --eslint</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Make sure to select <code>Y</code> in the command line when you are prompted if you require TailwindCSS. Alternatively, please follow the instructions for installing TailwindCSS in this <a href="https://tailwindcss.com/docs/guides/nextjs" target="_blank" rel="noopener noreferrer">link</a>.</p><p>Once you are done, you should be able to run the NextJS app by using the command <code>npm run dev</code></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-2--organising-the-file-structure">Step 2 : Organising the file structure<a href="#step-2--organising-the-file-structure" class="hash-link" aria-label="Direct link to Step 2 : Organising the file structure" title="Direct link to Step 2 : Organising the file structure">​</a></h3><p>The file structure for this project is very easy to setup. Create a folder called <code>/components</code> in the root directory of the project. Inside the components folder, create four files: </p><ol><li><code>Header.js</code> : Contains the header component</li><li><code>Hero.js</code> : Screen which appears on the menu asking if you wish to create a new game or join an existing game</li><li><code>Loading.js</code> : Loader component</li><li><code>Room.js</code> : This file will hold all the Waku and game logic</li></ol><p>Apart from the above files, you must create a new folder inside the <code>/pages</code> folder with the name <code>/pages/game</code>. Inside the game folder, create file called <code>[id].js</code> which will be used to navigate a user to a particular game room.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-3--install-the-wakureact-sdk">Step 3 : Install the <code>@waku/react</code> SDK<a href="#step-3--install-the-wakureact-sdk" class="hash-link" aria-label="Direct link to step-3--install-the-wakureact-sdk" title="Direct link to step-3--install-the-wakureact-sdk">​</a></h3><p>Now, it is time to install the required libraries for using Waku by using the following command:</p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm install @waku/react @waku/sdk protobufjs</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Apart from these, we will also need a few more libraries that can be helpful during the next steps : </p><div class="codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-text codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm install short-unique-id copy-to-clipboard</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p><code>short-unique-id</code> will be useful in generating a random unique id for the game room. <code>copy-to-clipboard</code> will help us implement a button that can copy the room ID to a user's clipboard.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-4--importing-the-sdk-and-initialising-the-providers">Step 4 : Importing the SDK and initialising the providers<a href="#step-4--importing-the-sdk-and-initialising-the-providers" class="hash-link" aria-label="Direct link to Step 4 : Importing the SDK and initialising the providers" title="Direct link to Step 4 : Importing the SDK and initialising the providers">​</a></h3><p>Inside the <code>/pages</code> folder, you can find <code>_app.js</code> file, which is the starting point of a NextJS app. We will be initialising our provider here so that the Waku provider will wrap up the entire application.</p><p>So, import the following on top of your file :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">LightNodeProvider</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"@waku/react"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Protocols</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"@waku/sdk"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Now, wrap the components with the <code>&lt;LightNodeProvider&gt;</code> as follows : </p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token maybe-class-name">LightNodeProvider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      options</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">defaultBootstrap</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      protocols</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token maybe-class-name">Protocols</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Store</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Protocols</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">Filter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Protocols</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access maybe-class-name">LightPush</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token spread operator">...</span><span class="token plain">pageProps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">LightNodeProvider</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>This provider allows the usage of <strong>Store, Filter and LightPush protocols</strong> which will be helpful in implementing all the required functionalities of our game.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-5--modify-the-indexjs-file">Step 5 : Modify the index.js file<a href="#step-5--modify-the-indexjs-file" class="hash-link" aria-label="Direct link to Step 5 : Modify the index.js file" title="Direct link to Step 5 : Modify the index.js file">​</a></h3><p>The <code>index.js</code> file inside the <code>/pages</code> folder renders the index route of the application. Let's make it display our components Header and Hero respectively,</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Head</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'next/head'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Hero</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/components/Hero'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Header</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/components/Header'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(80, 250, 123)">Home</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Head</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">title</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Tic</span><span class="token plain"> </span><span class="token maybe-class-name">Tac</span><span class="token plain"> </span><span class="token maybe-class-name">Toe</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">title</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">meta name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"description"</span><span class="token plain"> content</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"Tic Tac Toe game created with Waku"</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">meta name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"viewport"</span><span class="token plain"> content</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"width=device-width, initial-scale=1"</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">link rel</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"icon"</span><span class="token plain"> href</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"/favicon.ico"</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Head</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">main className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'bg-black h-screen'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Header</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Hero</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">main</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-6--header-component-and-hero-component">Step 6 : Header component and Hero component<a href="#step-6--header-component-and-hero-component" class="hash-link" aria-label="Direct link to Step 6 : Header component and Hero component" title="Direct link to Step 6 : Header component and Hero component">​</a></h3><p>The header component will carry a logo on the left and a button with the link to our Github on the right end:</p><p><strong>Header.js</strong></p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Link</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'next/link'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'react'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(80, 250, 123)">Header</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'flex p-5 justify-between items-center'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span><span class="token plain"> href</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"/"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">div id</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'logo'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token maybe-class-name">Your</span><span class="token operator">-</span><span class="token maybe-class-name">Logo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">a href</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'https://github.com/hackyguru/tictactoe'</span><span class="token plain"> className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'text-white flex space-x-3 items-center cursor-pointer'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token maybe-class-name">GitHub</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">a</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Remember to replace 'Your-Logo' with your application's logo.</p><p><strong>Hero.js</strong></p><p>The Hero component will allow users to create or join a new game. When a user creates a new game, a unique room ID is generated using the<code>short-unique-id</code> package. In case users want to join an existing game, they can enter the room ID to join in.</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useState</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> useEffect </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'react'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Loading</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'./Loading'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ShortUniqueId</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'short-unique-id'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Router</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'next/router'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(80, 250, 123)">Hero</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> options </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">length</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">8</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> uid </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">ShortUniqueId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">room</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setRoom</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">game</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setGame</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">joinLink</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setJoinLink</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">''</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">useEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">room </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setRoom</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">uid</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">rnd</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">room </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Loading</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">handleNewGameClick</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'roomId'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> room</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'player'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'x'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">/game/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">room</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">handleJoinGameClick</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setGame</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'join'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">handleJoinLinkChange</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setJoinLink</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">handleJoinButtonClick</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token maybe-class-name">Router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">/game/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">joinLink</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">handleGoBackClick</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setGame</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token plain">section id</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'hero'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"mx-auto max-w-screen-xl px-4 lg:flex lg:mt-40 lg:items-center mt-40"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"mx-auto max-w-xl text-center"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">h1 className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"text-3xl sm:text-8xl text-white"</span><span class="token operator">&gt;</span><span class="token maybe-class-name">TicTacToe</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">h1</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'mt-8 sm:text-xl/relaxed text-white opacity-60 flex items-center justify-center'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Built</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">with</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">img src</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'https://waku.org/theme/image/logo.svg'</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">a href</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'https://waku.org'</span><span class="token plain"> className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'underline'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token maybe-class-name">Waku</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">a</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">game </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"mt-20 flex flex-wrap justify-center gap-4"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token plain">button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"block w-full bg-white px-12 py-3 text-sm font-medium hover:text-white hover:bg-black hover:border-2  hover:border-white focus:outline-none focus:ring  text-black"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                onClick</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">handleNewGameClick</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token maybe-class-name">New</span><span class="token plain"> game</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">button</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token plain">button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                onClick</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">handleJoinGameClick</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"block w-full bg-white px-12 py-3 text-sm font-medium hover:text-white hover:bg-black hover:border-2  hover:border-white focus:outline-none focus:ring  text-black"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token maybe-class-name">Join</span><span class="token plain"> game</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">button</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">game </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'join'</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"mt-20 space-y-4"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token plain">input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                value</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">joinLink</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                onChange</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">handleJoinLinkChange</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"px-3 py-3 border-2 border-white w-full"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                placeholder</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'Enter the game link'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'flex space-x-5 items-center'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  onClick</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">handleJoinButtonClick</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"block w-full bg-white px-12 py-3 text-sm font-medium hover:text-white hover:bg-black hover:border-2  hover:border-white focus:outline-none focus:ring  text-black"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  </span><span class="token maybe-class-name">Join</span><span class="token plain"> game</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">button</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  onClick</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">handleGoBackClick</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"block w-full bg-white px-12 py-3 text-sm font-medium hover:text-white hover:bg-black hover:border-2  hover:border-white focus:outline-none focus:ring text-black"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  </span><span class="token maybe-class-name">Go</span><span class="token plain"> back</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">button</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">section</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>The above code leverages common React hooks like <code>useState() and useEffect()</code> to keep the app state and react to state changes. Summarising the above code, the state variable <code>game</code> will decide if the user wants to join an existing game or create a new game. <code>ShortUniqueId()</code> function will be used for generating a room ID if the user wants to create a new game.</p><p>For the app's simplicity, the user creating the game will always be 'player X', and the user joining the game will be 'player O'. The session storage will hold the player as X or O and can be retrieved from the <code>player</code> item.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-7--sending-and-retrieving-messages-in-roomjs">Step 7 : Sending and retrieving messages in <code>Room.js</code><a href="#step-7--sending-and-retrieving-messages-in-roomjs" class="hash-link" aria-label="Direct link to step-7--sending-and-retrieving-messages-in-roomjs" title="Direct link to step-7--sending-and-retrieving-messages-in-roomjs">​</a></h3><p>The <code>Room.js</code> file will have all the code related to sending and subscribing to the messages in the content topic. This file will also include other miscellaneous stuff like the winning conditions, the player to make a move, finding if an opponent has joined the game and finally, finding the winner.</p><p>Firstly, let us make all the required imports :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useState</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> useEffect </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'react'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Link</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'next/link'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports">copy</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'copy-to-clipboard'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports">protobuf</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'protobufjs'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token imports">  useWaku</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token imports">  useContentPair</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token imports">  useLightPush</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token imports">  useStoreMessages</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token imports">  useFilterMessages</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token imports"></span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@waku/react'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> message </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@waku/core'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Loading</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'./Loading'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>After this , we use a <code>Protobuff</code> object to define the structure of the messages like below :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">ChatMessage</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">protobuf</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'ChatMessage'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">protobuf</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'timestamp'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'uint64'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">protobuf</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'sender'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'string'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">protobuf</span><span class="token class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token class-name">Field</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'message'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'string'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Next, let us set up encoder and decoder:</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> decoder</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> encoder </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useContentPair</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Initializing LightPush, Filter and Store can be done in a very few lines of code :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">messages</span><span class="token operator">:</span><span class="token plain"> storeMessages </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useStoreMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    decoder</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token literal-property property">messages</span><span class="token operator">:</span><span class="token plain"> filterMessages </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useFilterMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> decoder </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> push </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useLightPush</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> encoder </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>With all these set up, sending a message into a content topic is completed. Here's how your <code>sendMessage()</code> function should look like :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sendMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">sender</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> protoMessage </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">ChatMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">timestamp</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      sender</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> serialisedMessage </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">ChatMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">encode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">protoMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">finish</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> timestamp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">payload</span><span class="token operator">:</span><span class="token plain"> serialisedMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'MESSAGE PUSHED'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>To setup the <code>decodeMessage()</code> function, you will have to pass the <code>wakuMessage</code> option into the function and use the <code>ChatMessage.decode()</code> function with the required parameters. Here's the code :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">decodeMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">wakuMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">wakuMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">payload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> sender</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> message </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">ChatMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">decode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">wakuMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">payload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">timestamp </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">sender </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> time </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">setTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Number</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">timestamp</span><span class="token operator">:</span><span class="token plain"> time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      sender</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token literal-property property">timestampInt</span><span class="token operator">:</span><span class="token plain"> wakuMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-8--winning-conditions-and-finding-the-winner-with-useeffect">Step 8 : Winning conditions and finding the winner with <code>UseEffect()</code><a href="#step-8--winning-conditions-and-finding-the-winner-with-useeffect" class="hash-link" aria-label="Direct link to step-8--winning-conditions-and-finding-the-winner-with-useeffect" title="Direct link to step-8--winning-conditions-and-finding-the-winner-with-useeffect">​</a></h3><p>We will use the <code>useEffect()</code> hook to retrieve and map the messages from the contentTopic. After this, we also use the winning combinations to find the winner between the two players :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// Finding if the players have joined the room</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">useEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(189, 147, 249);font-style:italic">undefined</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">player </span><span class="token operator">===</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> p </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'roomId'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> props</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">room</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(189, 147, 249);font-style:italic">sessionStorage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getItem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'player'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'x'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'x'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'o'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">setPlayer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">p </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'o'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token function" style="color:rgb(80, 250, 123)">sendMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'o'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'joined'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setNodeStart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Defining the winning condition and </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">useEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> messages </span><span class="token operator">=</span><span class="token plain"> storeMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">concat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filterMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> b </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> o </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    messages </span><span class="token operator">=</span><span class="token plain"> messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">decodeMessage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'joined'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        o </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'winner'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      b </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token operator">:</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">sender</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> winningCombinations </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'1'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'2'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'3'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'4'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'5'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'6'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'7'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'8'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'9'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'1'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'4'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'7'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'2'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'5'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'8'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'3'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'6'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'9'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'1'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'5'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'9'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'3'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'5'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'7'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> winner </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> temp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> winningPattern </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    winningCombinations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">combination</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">winner </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">of</span><span class="token plain"> combination</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">entries</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(189, 147, 249);font-style:italic">undefined</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          temp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">temp </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            temp </span><span class="token operator">=</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">continue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">temp </span><span class="token operator">===</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">c</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                winner </span><span class="token operator">=</span><span class="token plain"> temp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                winningPattern </span><span class="token operator">=</span><span class="token plain"> combination</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">continue</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setWinner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">winner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setWinningPattern</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">winningPattern</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setOpponentJoined</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setBoxes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">storeMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> filterMessages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>The game will automatically end if a winning condition is met by one of the users.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-9--loading-component-and-rendering-the-boxes">Step 9 : Loading component and rendering the boxes<a href="#step-9--loading-component-and-rendering-the-boxes" class="hash-link" aria-label="Direct link to Step 9 : Loading component and rendering the boxes" title="Direct link to Step 9 : Loading component and rendering the boxes">​</a></h3><p>The loading component will be visible if the node is not started or if an opponent player has not joined the room yet.</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">nodeStart </span><span class="token operator">||</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">player </span><span class="token operator">||</span><span class="token plain"> opponentJoined </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Loading</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>Here's the code for <code>Loading.js</code> component :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'react'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(80, 250, 123)">Loading</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'h-screen bg-black flex items-center w-full justify-center'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">svg width</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"60"</span><span class="token plain"> height</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"60"</span><span class="token plain"> viewBox</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"0 0 24 24"</span><span class="token plain"> xmlns</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"http://www.w3.org/2000/svg"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">g fill</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"none"</span><span class="token plain"> stroke</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"#ffffff"</span><span class="token plain"> stroke</span><span class="token operator">-</span><span class="token plain">linecap</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"round"</span><span class="token plain"> stroke</span><span class="token operator">-</span><span class="token plain">width</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"2"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token operator">&lt;</span><span class="token plain">path stroke</span><span class="token operator">-</span><span class="token plain">dasharray</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"60"</span><span class="token plain"> stroke</span><span class="token operator">-</span><span class="token plain">dashoffset</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"60"</span><span class="token plain"> stroke</span><span class="token operator">-</span><span class="token plain">opacity</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">".3"</span><span class="token plain"> d</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        </span><span class="token operator">&lt;</span><span class="token plain">animate fill</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"freeze"</span><span class="token plain"> attributeName</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"stroke-dashoffset"</span><span class="token plain"> dur</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"1.3s"</span><span class="token plain"> values</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"60;0"</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">path</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token operator">&lt;</span><span class="token plain">path stroke</span><span class="token operator">-</span><span class="token plain">dasharray</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"15"</span><span class="token plain"> stroke</span><span class="token operator">-</span><span class="token plain">dashoffset</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"15"</span><span class="token plain"> d</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"M12 3C16.9706 3 21 7.02944 21 12"</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        </span><span class="token operator">&lt;</span><span class="token plain">animate fill</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"freeze"</span><span class="token plain"> attributeName</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"stroke-dashoffset"</span><span class="token plain"> dur</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"0.3s"</span><span class="token plain"> values</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"15;0"</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        </span><span class="token operator">&lt;</span><span class="token plain">animateTransform attributeName</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"transform"</span><span class="token plain"> dur</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"1.5s"</span><span class="token plain"> repeatCount</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"indefinite"</span><span class="token plain"> type</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"rotate"</span><span class="token plain"> values</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"0 12 12;360 12 12"</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">path</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">g</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">svg</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>After you are done setting up the loading component, it's time to write a function that will handle rendering the boxes. This function will be used as an <code>onClick</code> handler that will send either <code>x</code> or <code>o</code> based on the player who clicks the box. It will also render the boxes with <code>x</code> or <code>o</code> based on the player who has clicked the box previously. Here's the function :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">renderBoxes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> boxElements </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">let</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> i </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">boxes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(189, 147, 249);font-style:italic">undefined</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        boxElements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">div</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            onClick</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">handlePlay</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">toString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'w-20 h-20 border-2 border-white flex items-center justify-center text-2xl text-white'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">boxes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'x'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          boxElements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'w-20 h-20 border-2 border-white flex items-center justify-center text-2xl text-white'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token constant" style="color:rgb(189, 147, 249)">X</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          boxElements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'w-20 h-20 border-2 border-white flex items-center justify-center text-2xl text-white'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token constant" style="color:rgb(189, 147, 249)">O</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">div id</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'tiles'</span><span class="token plain"> className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'grid grid-cols-3 grid-rows-3 gap-3 mt-10'</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">boxElements</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><p>The above <code>renderBoxes()</code> function will render only the box grid. We also need some prompts to mention which user should be playing their move (X or Y) and also announce the winner. For this, here's a simple UI that you can return in the Room function :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token plain">section id</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'room'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'flex justify-end mr-5 text-white space-x-5 items-center'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Waku</span><span class="token plain"> status </span><span class="token operator">:</span><span class="token plain"> active</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">svg width</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'20'</span><span class="token plain"> height</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'20'</span><span class="token plain"> viewBox</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'0 0 48 48'</span><span class="token plain"> xmlns</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'http://www.w3.org/2000/svg'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">g fill</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'none'</span><span class="token plain"> stroke</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'currentColor'</span><span class="token plain"> strokeWidth</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'4'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">path d</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'M13.5 39.37A16.927 16.927 0 0 0 24 43c3.963 0 7.61-1.356 10.5-3.63M19 9.747C12.051 11.882 7 18.351 7 26c0 1.925.32 3.775.91 5.5M29 9.747C35.949 11.882 41 18.351 41 26c0 1.925-.32 3.775-.91 5.5'</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">path strokeLinecap</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'round'</span><span class="token plain"> strokeLinejoin</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'round'</span><span class="token plain"> d</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'M43 36c0 1.342-.528 2.56-1.388 3.458A5 5 0 1 1 43 36Zm-28 0c0 1.342-.528 2.56-1.388 3.458A5 5 0 1 1 15 36ZM29 9c0 1.342-.528 2.56-1.388 3.458A5 5 0 1 1 29 9Z'</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">g</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">svg</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Peers</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">node</span><span class="token operator">?.</span><span class="token plain">libp2p</span><span class="token operator">?.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">getPeers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?.</span><span class="token plain">length </span><span class="token operator">??</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'-'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'mx-auto max-w-screen-xl px-4 mt-20 lg:flex lg:h-mt-40 lg:items-center'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'mx-auto max-w-xl'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'flex space-x-2 text-white opacity-60 mb-5 items-center'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Link</span><span class="token plain"> href</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'/'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token plain">svg width</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'20'</span><span class="token plain"> height</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'20'</span><span class="token plain"> viewBox</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'0 0 1024 1024'</span><span class="token plain"> xmlns</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'http://www.w3.org/2000/svg'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">path fill</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'currentColor'</span><span class="token plain"> d</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z'</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">path</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  fill</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'currentColor'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  d</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'m237.248 512l265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">svg</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">Link</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Game</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">URL</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'px-3 py-3 text-center flex border-2 border-white text-white underline items-center justify-between'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token plain">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token plain">waku</span><span class="token operator">-</span><span class="token plain">xo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">vercel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">app</span><span class="token operator">/</span><span class="token plain">game</span><span class="token operator">/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">room</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">p</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token plain">button onClick</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">copy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">https://waku-xo.vercel.app/game/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">props</span><span class="token template-string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token template-string interpolation property-access">room</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token plain">svg width</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'20'</span><span class="token plain"> height</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'20'</span><span class="token plain"> viewBox</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'0 0 256 256'</span><span class="token plain"> xmlns</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'http://www.w3.org/2000/svg'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">path</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  fill</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'currentColor'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  d</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">svg</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">button</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">h1 className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'text-3xl sm:text-4xl text-white mt-20'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token operator">!</span><span class="token plain">opponentJoined </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Waiting for opponent to join'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">winner </span><span class="token operator">==</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              opponentJoined </span><span class="token operator">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">keys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">boxes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator">%</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">?</span><span class="token plain"> player </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'x'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Your turn'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"Opponent's turn"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">:</span><span class="token plain"> player </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'o'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'Your turn'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"Opponent's turn"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">winner </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">winner </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'x'</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'X is winner'</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'O is winner'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">h1</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">!</span><span class="token plain">winner </span><span class="token operator">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'flex justify-center'</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token function" style="color:rgb(80, 250, 123)">renderBoxes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">section</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-10--rendering-the-room">Step 10 : Rendering the room<a href="#step-10--rendering-the-room" class="hash-link" aria-label="Direct link to Step 10 : Rendering the room" title="Direct link to Step 10 : Rendering the room">​</a></h3><p><code>Room.js</code> is quite a big chunk of code, right? But don't worry - it is easy to follow up and the final code can be found <a href="https://github.com/hackyguru/tictactoe/blob/main/components/Room.js" target="_blank" rel="noopener noreferrer">here</a>.</p><p>There is one final step before our TicTacToe is complete. It is to create the <code>game/[id].js</code> page component. This component will render the room based on the <code>room id</code> provided on the URL. We use the     <code>useRouter()</code> hook to query the room id from the URL and then render the Room component :</p><div class="language-js codeBlockContainer_EB2s codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:rgba(var(--lsd-surface-secondary), 0.08)"><div class="codeBlockContent_ugSV"><pre tabindex="0" class="prism-code language-js codeBlock_TWhw thin-scrollbar"><code class="codeBlockLines_LDrR"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Header</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/components/Header'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Room</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/components/Room'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useState</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> useEffect </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'react'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Loading</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/components/Loading'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> useRouter </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'next/router'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Waku imports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ContentPairProvider</span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token imports"> useWaku </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"@waku/react"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Misc imports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ShortUniqueId</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'short-unique-id'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(80, 250, 123)">Game</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> router </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useRouter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> room </span><span class="token operator">=</span><span class="token plain"> router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token maybe-class-name">ContentPairProvider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                contentTopic</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">"/tictactoe/"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> room</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token plain">div className</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'bg-black h-screen'</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Header</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    </span><span class="token operator">&lt;</span><span class="token maybe-class-name">Room</span><span class="token plain"> room</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">room</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">div</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token maybe-class-name">ContentPairProvider</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_Qu4e"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_an20" aria-hidden="true"><div class="icon_S7Kx dark_qPiS m_thRi copyButtonIcon_ZL7v"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.917 12.833c-.321 0-.596-.114-.825-.343a1.121 1.121 0 0 1-.342-.823V3.5h1.167v8.167h6.416v1.166H2.917ZM5.25 10.5c-.32 0-.596-.114-.824-.343a1.121 1.121 0 0 1-.343-.824v-7c0-.32.115-.595.343-.824.229-.229.504-.343.824-.342h5.25c.32 0 .596.114.824.343.229.228.343.503.343.823v7c0 .321-.115.596-.343.825a1.121 1.121 0 0 1-.824.342H5.25Zm0-1.167h5.25v-7H5.25v7Z" fill="#fff"></path></svg></div></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="whats-next">What's next?<a href="#whats-next" class="hash-link" aria-label="Direct link to What's next?" title="Direct link to What's next?">​</a></h3><p>I hope that your TicTacToe application with Waku will be up and running now. If you are still stuck at part of the above 10 steps, please refer to our <a href="https://github.com/hackyguru/tictactoe" target="_blank" rel="noopener noreferrer">example repository</a> now. You can also try out the TicTacToe game in <a href="https://waku-xo.vercel.app" target="_blank" rel="noopener noreferrer">this link</a>.</p><p>Please note that this is a very basic demonstration of using Waku's react hooks to build a TicTacToe game. The game still needs a lot of improvements in terms of handling the connection, establishing the winning , etc.</p><p>Here are some ideas for you to include in the future: </p><ul><li><p>adding P2E (Play to Earn) mechanisms where users can connect their wallet, stake some crypto and then the winner gets the stake.</p></li><li><p>adding names for players</p></li><li><p>minting an NFT for the winner once a game is over</p></li></ul><p>With Waku, the possibilities are limitless. Go ahead and start building! If you have any questions, feel free to drop us a messafe in our support channel on the <a href="https://discord.waku.org" target="_blank" rel="noopener noreferrer">Waku discord community</a>.</p>]]></content>
        <author>
            <name>Guru</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Key Learnings from Waku Hackers in 2023]]></title>
        <id>https://waku.org/learnings-from-hackers</id>
        <link href="https://waku.org/learnings-from-hackers"/>
        <updated>2023-12-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A review of the key learnings from Waku hackathon participants this year and what we are doing to improve developers' experience.]]></summary>
        <content type="html"><![CDATA[<p>A review of the key learnings from Waku hackathon participants this year and what we are doing to improve developers' experience. </p><hr><p>2023 has been an incredible year for Waku. We attended eight events across four continents, participated in three ETHGlobal hackathons, and hosted the first Waku Hacker House. It has been amazing to see the growth of the developer community on Waku, and we want to make sure that next year it will be even easier to onboard new hackers and developers.</p><p>We recently held an X Space where we invited the winning projects from the ETHRome hackathon to tell us what they like about Waku, what worked well while using Waku, and where they saw areas for improvement. Below, you will find some of the key insights from the hackers and learn how their feedback is informing improvements around Waku documentation and the greater developer experience. </p><p><a href="https://twitter.com/vpavlin" target="_blank" rel="noopener noreferrer">Václav</a>, <a href="https://twitter.com/vrycmfy" target="_blank" rel="noopener noreferrer">Aaron</a>, and <a href="https://twitter.com/hackyguru" target="_blank" rel="noopener noreferrer">Guru</a> represented the Waku team on the Space. We were also joined by participants from the winning ETHRome teams <a href="https://twitter.com/Feka_7heaven" target="_blank" rel="noopener noreferrer">Feka</a>, <a href="https://twitter.com/mrnmrceth" target="_blank" rel="noopener noreferrer">mrnmrc.eth</a>, <a href="https://twitter.com/martinlecl" target="_blank" rel="noopener noreferrer">Martin</a>, <a href="https://twitter.com/Rgis295478" target="_blank" rel="noopener noreferrer">Régis</a>, <a href="https://twitter.com/floriantruchot" target="_blank" rel="noopener noreferrer">Florian</a>, and <a href="https://twitter.com/Mattia" target="_blank" rel="noopener noreferrer">Mattia</a>.  </p><blockquote class="twitter-tweet"><p lang="zxx" dir="ltr"><a href="https://t.co/3hJv115Sg2" target="_blank" rel="noopener noreferrer">https://t.co/3hJv115Sg2</a></p>— Waku (@Waku_org) <a href="https://twitter.com/Waku_org/status/1722659158816612463?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">November 9, 2023</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blockchain-seems-like-the-default-way-to-do-decentralised-things-but-in-the-end-its-not-the-only-one---mattia">“Blockchain seems like the default way to do decentralised things, but in the end, it's not the only one” - Mattia<a href="#blockchain-seems-like-the-default-way-to-do-decentralised-things-but-in-the-end-its-not-the-only-one---mattia" class="hash-link" aria-label="Direct link to “Blockchain seems like the default way to do decentralised things, but in the end, it's not the only one” - Mattia" title="Direct link to “Blockchain seems like the default way to do decentralised things, but in the end, it's not the only one” - Mattia">​</a></h2><p>By not executing transactions on a blockchain, Waku protocols benefit from decentralisation and speed without requiring gas fee payments. </p><p>Mattia praised the seamless interoperability enabled by Waku’s platform-agnostic nature, allowing his team and all the hackers at the event to use the protocols on any platform or blockchain without restrictions. He noted that this helps to eliminate silos between chains, which is a key issue in web3. We believe this platform-agnostic characteristic will help Waku become the standard for communication in web3. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="top-tip-for-hackers-what-we-mean-when-we-say-no-more-chat-apps">Top tip for hackers: What we mean when we say “no more chat apps”<a href="#top-tip-for-hackers-what-we-mean-when-we-say-no-more-chat-apps" class="hash-link" aria-label="Direct link to Top tip for hackers: What we mean when we say “no more chat apps”" title="Direct link to Top tip for hackers: What we mean when we say “no more chat apps”">​</a></h2><p>As you may have noticed, during Waku’s recent hackathon, we requested that participants not submit ‘standard chat apps’. If you are wondering why, many of these are already in the ecosystem and we want to encourage hackers to find new use cases that can add value to users. Building a chat protocol with the proper security parameters to protect its users during a hackathon is also highly challenging. Chat apps refer to person-to-person messaging apps, such as Telegram. But much of the functionality within Waku revolves around chat-like interactions. As Guru and Václav noted, in essence, Waku activities are akin to a chat interface, albeit one that transcends traditional UI constraints. Even sophisticated applications, such as that submitted by Mattia's team, are interactions between Waku nodes, where the data could range from simple text to more complex data like GPS locations.</p><p>Whether it is interactions between humans or machines, the core principle remains a form of chat. Within the Waku ecosystem, users essentially engage in a dialogue, either issuing commands to nodes for execution or communicating with AI services, which then carry out tasks based on predefined transactions. Hackers require creativity to transform these interactions into something truly exciting. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="issues-with-waku-documentation-and-what-we-are-doing-about-it">Issues with Waku documentation and what we are doing about it<a href="#issues-with-waku-documentation-and-what-we-are-doing-about-it" class="hash-link" aria-label="Direct link to Issues with Waku documentation and what we are doing about it" title="Direct link to Issues with Waku documentation and what we are doing about it">​</a></h2><p>Matija shared that his team had difficulties when it came to implementing encryption, and they had to resort to using asymmetric encryption. They created a public-private key pair and exchanged it between the users. This is not always convenient, especially if there is a group of people involved. It presents a challenge to Waku’s bandwidth constraints to ensure everyone has all of the relevant public keys and then to re-encrypt them. </p><p>A protocol in Waku called Noise solves this by negotiating a symmetric key pair between users. Multiple teams shared feedback that it was either not easy to locate the correct resources or that it was not easy to use. While we currently have <a href="https://rfc.vac.dev/spec/35/" target="_blank" rel="noopener noreferrer">developer specification</a> documents for Noise on the Vac research site, based on the hackers' feedback, we have created more accessible guides around encryption, which will be live very soon on the <a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">Waku Docs</a> site. We will be following this with better Noise protocol guides soon. </p><p>Federico noted that he and his team found it overwhelming to use Waku for the first time due to its extensive components that did not align with their project requirements. However, they commended the well-written nature of the documentation that provided a solid foundation for their work. In particular, he attested to the quality of the ‘<a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">getting started</a>’ example. However, he suggested that for hackathon projects, a more streamlined and beginner-friendly example would be beneficial. Additionally, Frederico recommended incorporating examples with popular frameworks like React, as it aligns with the prevalent usage of frameworks in building applications.</p><p>Václav acknowledged the limited nature of the current documentation and examples; it is a symptom of Waku’s relative youth and constant evolution. Václav encouraged community participation by highlighting the existence of the <a href="https://github.com/waku-org/bounties/" target="_blank" rel="noopener noreferrer">bounties repository</a>, where contributors can propose and work on examples aligned with specific frameworks or use cases. This collaborative approach aims to address gaps in documentation and make Waku more accessible to a broader audience.</p><p>We are happy to share that since the X Space happened, we have released a <a href="https://docs.waku.org/guides/js-waku/use-waku-react/" target="_blank" rel="noopener noreferrer">Waku React package</a> based on Federico's feedback that provides components and UI adapters to integrate @waku/sdk into React applications effortlessly.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="we-are-improving-connection-issues-by-better-node-incentivisation">We are improving connection issues by better node incentivisation<a href="#we-are-improving-connection-issues-by-better-node-incentivisation" class="hash-link" aria-label="Direct link to We are improving connection issues by better node incentivisation" title="Direct link to We are improving connection issues by better node incentivisation">​</a></h2><p>Martin and Florian shared that their team experienced network connection issues several times during the hackathon, noting that the network was likely overloaded due to the significant number of hackathon participants. Aaron shared his appreciation for the feedback: “We must be brutally honest if we are going to fix the things that aren't easy to work with.” </p><p>Running nodes that fully participate in the Waku Relay Network should be encouraged, and <a href="https://blog.waku.org/waku-roadmap" target="_blank" rel="noopener noreferrer">we have been doing so in this Q</a> by optimising the software and making participation permissionless. With such innovations, the community can benefit from more neutral contributions to the network, hence the backbone of a secure, scalable network, and a more extensive set of nodes to get sender and recipient k-anonymity.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="you-called-for-storage-and-it-is-coming">You called for storage… and it is coming!<a href="#you-called-for-storage-and-it-is-coming" class="hash-link" aria-label="Direct link to You called for storage… and it is coming!" title="Direct link to You called for storage… and it is coming!">​</a></h2><p>The hackers mentioned that using Waku alone without any additional decentralised storage solution limits what they can build during a hackathon's time-constrained period. As Václav noted: “Waku is in general ephemeral, and it should not be used, and it cannot be used for long-term storage.”</p><p>Until now, hackers have relied on alternatives such as IPFS and Arweave when they need a decentralised storage element for their projects. However, both options rely on some form of centralised gateways to access external data.</p><p>The good news is <a href="https://codex.storage/" target="_blank" rel="noopener noreferrer">Codex</a> is currently in development and will be able to step in and fill the gap. As the storage layer of the <a href="/logos.co">Logos</a> technology stack, Codex is durable and decentralised. Codex implements protocol constructs that incentivise wide participation of data storage providers, both small and large, thus ensuring a robust network resistant to censorship and external attack. An end-to-end solution with good integration between Waku and Codex will give developers precisely what they need from communications and storage.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="were-on-the-precipice-of-something-that-weve-all-been-waiting-for-aaron">“We're on the precipice of something that we've all been waiting for” Aaron<a href="#were-on-the-precipice-of-something-that-weve-all-been-waiting-for-aaron" class="hash-link" aria-label="Direct link to “We're on the precipice of something that we've all been waiting for” Aaron" title="Direct link to “We're on the precipice of something that we've all been waiting for” Aaron">​</a></h2><p>Aaron took a moment in the Space to remind the community how close Waku is to realising one of the original promises of the Ethereum ecosystem - a decentralised peer-to-peer communications protocol. </p><p>“With Waku, we're on the precipice of something we've all been waiting for. We cannot lose sight of the tech that props up this entire ecosystem… In the Ethereum whitepaper, Whisper was outlined as the peer-to-peer communication protocol for the network. Due to one reason or another, Whisper's development did not progress in the same way other areas did. Waku boldly is picking up that torch and going forward. And with so many different world events happening, both positive and otherwise, Waku aims to be a tool for all people and machines to be leveraged.”</p><p>Please ensure you follow <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">Waku on X</a> to get updates on the upcoming X Space, scheduled for February. The teams behind the best projects from ETHIstanbul and ETHIndia will join us. </p><p>We will be participating in more major hackathons next year, which we hope to see you at, but in the meantime, why not check out our <a href="https://github.com/waku-org/bounties/issues" target="_blank" rel="noopener noreferrer">open bounties</a>? You are welcome and encouraged to share your feedback with us anytime on <a href="https://discord.com/invite/gMPAzmcDER" target="_blank" rel="noopener noreferrer">Discord</a>.</p>]]></content>
        <author>
            <name>Amelia Trapp</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[The Waku Roadmap]]></title>
        <id>https://waku.org/waku-roadmap</id>
        <link href="https://waku.org/waku-roadmap"/>
        <updated>2023-11-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A comprehensive review of the Waku roadmap for H2 2023]]></summary>
        <content type="html"><![CDATA[<p>A comprehensive review of the Waku roadmap for H2 2023</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="background-on-waku">Background on Waku<a href="#background-on-waku" class="hash-link" aria-label="Direct link to Background on Waku" title="Direct link to Background on Waku">​</a></h2><p>To understand why Waku exists, you need only to consider the centralised internet. Technology giants can dictate what we see and with whom we can communicate. The centralised platforms we regularly use to communicate have privileged access to outlandish realms of personal data that powerful commercial and political institutions can leverage. In contrast, <a href="https://waku.org/" target="_blank" rel="noopener noreferrer">Waku</a> empowers internet users to circumvent these actions, offering a decentralised, open-source suite of privacy-preserving, peer-to-peer messaging protocols. The protocols are designed to flourish in resource-restricted environments to be accessible to people across the globe and can run on phones, servers, or browsers. Waku can be used for general messaging with humans, machines, or a hybrid situation.</p><p>We apply <a href="https://hackmd.io/@vac/main/%2FYYlZYBCURFyO_ZG1EiteWg#11WAKU2-RELAY-gossipsub" target="_blank" rel="noopener noreferrer">Waku Relay</a> on top of the gossip protocol <a href="https://docs.libp2p.io/concepts/pubsub/overview/" target="_blank" rel="noopener noreferrer">GossipSub</a> from libp2p to route messages and information with a subset of connected peers, increasing security and privacy. A gossip protocol is a peer-to-peer protocol in which nodes periodically exchange information about themselves and other associated nodes. Currently, it is possible to use the Waku Network and join a public gossipsub network in a permissionless manner. Some projects using Waku that opt to do this include <a href="https://status.app/" target="_blank" rel="noopener noreferrer">Status Desktop and Mobile</a>, <a href="https://docs.railgun.org/wiki/learn/privacy-system/community-relayers" target="_blank" rel="noopener noreferrer">Railgun</a>, and <a href="https://docs.graphops.xyz/graphcast/design-principles" target="_blank" rel="noopener noreferrer">TheGraph</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="achievements-in-h1-2023">Achievements in H1 2023<a href="#achievements-in-h1-2023" class="hash-link" aria-label="Direct link to Achievements in H1 2023" title="Direct link to Achievements in H1 2023">​</a></h2><p>One of the critical limitations of Waku is its reliance on a single GossipSub network for all users, which necessitates that each user relay traffic for all applications. As the adoption of Waku continues to grow, the bandwidth consumption skyrockets. Users with limited bandwidth capabilities are marginalised and unable to participate fully in the Waku Relay network. The key focus of the Waku development team in the first half of this year was to resolve some of these limitations around scaling to support the Status app’s goal of serving one million users.</p><p>We met our milestone of providing a Waku network that can scale to approximately ten thousand active users within a <a href="https://status.app/" target="_blank" rel="noopener noreferrer">Status Community</a>, primarily thanks to implementing static sharding. Instead of having one relay network, we split the Waku Network into several relay (gossipsub) networks so that the end user is not required to relay the traffic of all applications, but rather just the traffic on the same shard. <a href="https://blog.waku.org/scaling-waku-progress-update/" target="_blank" rel="noopener noreferrer">We have also developed opt-in message signing</a> as another stopgap solution to match the Status app timeline and needs. The Community signs the messages with a single key belonging to the entire Community, presenting a more private solution than having individual signatures. This solution set, in addition to protocol and software improvements, should enable the Status team to launch the Status apps with reasonable bandwidth usage.</p><p>The manual coordination of shard assignment with static sharding requires the actions of a central entity. While it is still permissionless, and anyone could run a node on any shard, the lack of coordination would deteriorate the user experience. Being able to scale Waku to support one million users on the Status app is dependent on our ability to improve on our H1 deliveries, which we will be stress testing and running through simulations.</p><p>The Waku team also deployed basic protections. The Denial of Service (DoS) protections are very light and do not give any guarantees regarding bandwidth usage. Users running a node, such as Status Desktop, will not want it to hog their bandwidth. What was delivered in H1 has caveats in terms of permissionless and relative DOS protection. It is possible to build an application with either properties, but not both. You will find our approach to resolving this in the H2 roadmap below.</p><p>You can read more about all of the deliveries in H1 <a href="https://blog.waku.org/scaling-waku-progress-update/" target="_blank" rel="noopener noreferrer">here.</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="roadmap-milestones-in-h2-2023">Roadmap milestones in H2 2023<a href="#roadmap-milestones-in-h2-2023" class="hash-link" aria-label="Direct link to Roadmap milestones in H2 2023" title="Direct link to Roadmap milestones in H2 2023">​</a></h2><p>Waku’s core milestone for H2 is launching and bootstrapping Waku Network Gen 0. There are an additional two milestones for 2024 that we have begun working on; those are:</p><ul><li><a href="https://github.com/waku-org/pm/milestone/2" target="_blank" rel="noopener noreferrer">Add support for multiple platforms</a><span style="text-decoration:underline">:</span></li></ul><p>We will be researching and experimenting with nim in 2023 to lay the groundwork for supporting multiple platforms.</p><ul><li><a href="https://github.com/waku-org/pm/milestone/3" target="_blank" rel="noopener noreferrer">Instate quality assurance processes</a><span style="text-decoration:underline">;</span></li></ul><p>This workstream has been initiated this year.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="waku-network-gen-0">Waku Network Gen 0<a href="#waku-network-gen-0" class="hash-link" aria-label="Direct link to Waku Network Gen 0" title="Direct link to Waku Network Gen 0">​</a></h4><p>The <a href="https://hackmd.io/6Q_bHochRMOvTRXN0vCr5A?both#Waku-Network-Gen-0" target="_blank" rel="noopener noreferrer">Waku Network Gen 0</a> builds on H1 2023’s network sharding innovations and uses rate limiting from work done in 2021 and 2022. The goal is to create one permissionless, auto-scalable, DoS protected public network. The auto-sharding protocol automatically allocates messages for an application and does not require a centralised, manual allocator.</p><p>Through rate limiting, we will be working to ensure that users (or attackers) cannot flood the network beyond the maximum expected bandwidth usage. We will protect abuse through our RLN DoS protection, capping publishers to 1 message per second. We are also working on a dimensioning mechanism that would give publishers a maximum allocation of messages per day, limiting the maximum size of these messages within the overall network. Individuals can join a group on-chain and prove their membership in each message in a zero-knowledge manner – that is, without revealing which member they are. The number of members in the group is likely to be capped initially to guarantee maximum bandwidth usage by the network, although we will be able to review those when launching subsequent versions.</p><p>Running nodes that fully participate in the Waku Relay Network should be encouraged. We aim to do so by optimising the software and making participation permissionless. With such innovations, the community can benefit from more neutral contributions to the network, hence the backbone of a secure, scalable network, and a more extensive set of nodes to get sender and recipient <a href="https://vac.dev/rlog/wakuv2-relay-anon?" target="_blank" rel="noopener noreferrer">k-anonymity</a>.</p><p>It’s important to note that all current and future issues need to be solved while preserving our principles:</p><ul><li>Private</li><li>Modular</li><li>Scalable</li><li>Censorship resistant</li><li>Portable: works on mobile and browser</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="development-roadmap-tracks">Development Roadmap tracks<a href="#development-roadmap-tracks" class="hash-link" aria-label="Direct link to Development Roadmap tracks" title="Direct link to Development Roadmap tracks">​</a></h3><p>We have organised our research and development work into three tracks:</p><p>General Track;</p><p>Service Protocols;</p><p>DoS protection.</p><p>We will review each track in more detail below.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="general-track">General Track<a href="#general-track" class="hash-link" aria-label="Direct link to General Track" title="Direct link to General Track">​</a></h4><p>The foundational work focuses on creating a scalable and auto-sharded Waku Network. Here, we determine specifications, design, and implement strategies based on our research and development that aid in scaling the Waku Network.</p><p>You can view the latest progress from the General Track <a href="https://github.com/orgs/waku-org/projects/2/views/2?filterQuery=E%3A+1.+" target="_blank" rel="noopener noreferrer">here</a>. Below are the key milestones and associated tasks from this track.</p><ul><li><strong><a href="https://github.com/waku-org/research/issues/6" target="_blank" rel="noopener noreferrer">1.1: Network requirements and design</a></strong><ul><li>Goal: 22 Sep 2023</li><li>Key Activities:<ul><li>Determine network specifications and design.</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/65" target="_blank" rel="noopener noreferrer">1.2: Auto-sharding for autoscaling</a></strong><ul><li>Goal: 30 Sep 2023</li><li>Key Activities:<ul><li>Design and implement auto-sharding strategy.</li><li>Launch a limited number of shards.</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/66" target="_blank" rel="noopener noreferrer">1.3: Node bandwidth management mechanism</a></strong><ul><li>Goal: 31 Oct 2023</li><li>Key Activities:<ul><li>Implement bandwidth management to choose shards based on availability for relay nodes dynamically</li><li>Design predictable bandwidth limits per shard</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/67" target="_blank" rel="noopener noreferrer">1.4: Peer management and discovery</a></strong><ul><li>Goal: 30 Nov 2023</li><li>Key Activities:<ul><li>Design transparent interaction between applications and shards</li><li>Peer management system to track and discover public shared peers</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/research/issues/1" target="_blank" rel="noopener noreferrer">1.5: Launch and dogfood integrated public Waku Network MVP</a></strong><ul><li>Goal: 31 Jan 2024</li><li>Key Activities:<ul><li>Launch Waku Network MVP</li><li>Gather feedback and improve</li></ul></li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="service-protocols"><strong>Service Protocols</strong><a href="#service-protocols" class="hash-link" aria-label="Direct link to service-protocols" title="Direct link to service-protocols">​</a></h4><p>Our focus within <a href="https://docs.waku.org/overview/concepts/protocols" target="_blank" rel="noopener noreferrer">Service Protocols</a> is required to upkeep and expand protocols such as filter, lightpush, peer exchange and store within the public network in a decentralised manner. Work within this track also involves ongoing efforts to incentivise our network.</p><p>You can view the latest progress from the Service Protocols Track <a href="https://github.com/orgs/waku-org/projects/2/views/2?filterQuery=E%3A+2.+" target="_blank" rel="noopener noreferrer">here</a>. Below are the key milestones and associated tasks from this track.</p><ul><li><strong><a href="https://github.com/waku-org/pm/issues/49" target="_blank" rel="noopener noreferrer">2.1: Production testing of existing protocols</a></strong><ul><li>Goal: 30 Nov 2023</li><li>Key Activities:<ul><li>Test and improve current service protocols: <a href="https://rfc.vac.dev/spec/12/" target="_blank" rel="noopener noreferrer">filter</a>, <a href="https://rfc.vac.dev/spec/19/" target="_blank" rel="noopener noreferrer">lightpush</a>, and <a href="https://rfc.vac.dev/spec/34/" target="_blank" rel="noopener noreferrer">peer-exchange</a>.</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/63" target="_blank" rel="noopener noreferrer">2.2: Sharded capability discovery for light protocols</a></strong><ul><li>Goal: 30 Sep 2023</li><li>Key Activities:<ul><li>Peer selection mechanism that translates content topics to their underlying shard</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/64" target="_blank" rel="noopener noreferrer">2.3: Basic distributed store services</a></strong><ul><li>Goal: 30 Nov 2023 (integrate in 2024)</li><li>Key Activities:<ul><li>Discover Store nodes for specific content topics and time ranges.</li><li>Service nodes to advertise their store services</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/80" target="_blank" rel="noopener noreferrer">2.4: Basic design for service incentivisation</a></strong><ul><li>Goal: 31 Dec 2023</li><li>Key Activities:<ul><li>Incentivize service provision of the Waku Network</li><li>Tokenomics implementation</li></ul></li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dos-protection"><strong>DoS Protection</strong><a href="#dos-protection" class="hash-link" aria-label="Direct link to dos-protection" title="Direct link to dos-protection">​</a></h4><p>Denial of Service (DoS) mitigation is a challenge within any network. Bandwidth is a scarce resource for the Waku network; DoS protection is about stopping an attacker from flooding the network or for a Waku node to hog all of a user’s bandwidth. This track covers consensus mechanisms such as our rate-limiting designs.</p><p>We balance free traffic with a fairly incentivised structure that doesn’t exhaust the overall bandwidth. We must implement measures to ensure the bandwidth usage is feasible for additional protocol-wide DOS protection. We need to assist node operators in maximising the use of their resources and allocate shard support depending on current traffic so that we can assure ongoing service guarantees.</p><p>You can view the latest progress from the DoS Protection Track <a href="https://github.com/orgs/waku-org/projects/2/views/2?filterQuery=E%3A+3.+" target="_blank" rel="noopener noreferrer">here</a>. Below are the key milestones and associated tasks from this track.</p><ul><li><strong><a href="https://github.com/waku-org/pm/issues/69" target="_blank" rel="noopener noreferrer">3.1: DoS requirements and design</a></strong><ul><li>Goal: 22 Sep 2023</li><li>Key Activities:<ul><li>Define DoS/spam protection specifications</li><li>Design initial membership mechanisms</li><li><a href="https://hackmd.io/@alrevuelta/rkqbPKaoo" target="_blank" rel="noopener noreferrer">Free and or paid traffic design</a></li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/70" target="_blank" rel="noopener noreferrer">3.2: Basic DoS protection in production</a></strong><ul><li>Goal: 31 Oct 2023</li><li>Key Activities:<ul><li>Implement and launch the RLN mechanism</li><li>Implement rate limiting</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/71" target="_blank" rel="noopener noreferrer">3.3: Membership for Status Communities</a></strong><ul><li>Goal: 30 Nov 2023</li><li>Key Activities:<ul><li>Design membership assignments for community members</li></ul></li></ul></li><li><strong><a href="https://github.com/waku-org/pm/issues/72" target="_blank" rel="noopener noreferrer">3.4: Further memberships</a></strong><ul><li>Goal: 31 Dec 2023</li><li>Key Activities:<ul><li>Expanding memberships to third parties</li></ul></li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="anticipated-risks-to-delivering-our-h2-milestones">Anticipated risks to delivering our H2 milestones<a href="#anticipated-risks-to-delivering-our-h2-milestones" class="hash-link" aria-label="Direct link to Anticipated risks to delivering our H2 milestones" title="Direct link to Anticipated risks to delivering our H2 milestones">​</a></h3><p>We have identified several challenges that may impact our ability to deliver on our roadmap milestones.</p><p><strong>1. Ongoing structural design changes due to practical implications:</strong></p><p>Our network dimensioning on modelling and assumptions may need to be modified when applied in real-world use cases. For example, we have designed the network not to allow more than one message published per second by each publisher. We have set message sizes to a maximum of 150 KB, implemented a 20-second grace period, and divided all traffic among 8 defined network shards. The risk is that, despite our modelling and research, the structural changes might not be helpful for all applications.</p><p>We are committed to building in the open and accept that our <a href="https://github.com/waku-org/pm/blob/master/README.md" target="_blank" rel="noopener noreferrer">project management process</a> could be better. This principle of openness is why we are dedicating effort to producing easily digestible content, such as our documentation at <a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">docs.waku.org</a>.</p><p><strong>2. Interactions between applications and nodes:</strong></p><p>Waku Relay is the foundation for building decentralised communications. There is uncertainty on how applications will interact with the underlying nodes to ensure that all app traffic gets routed seamlessly and transparently, all while having a balanced data load throughout eight different routing shards.</p><p><strong>3. Navigating Bandwidth Management</strong></p><p>Bandwidth in peer-to-peer networks is a luxury that needs to be acutely observed and managed. To maintain a large group of peers hosting nodes, we must be capable of securely managing bandwidth allocation to their nodes.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="become-a-part-of-the-waku-ecosystem">Become a part of the Waku ecosystem<a href="#become-a-part-of-the-waku-ecosystem" class="hash-link" aria-label="Direct link to Become a part of the Waku ecosystem" title="Direct link to Become a part of the Waku ecosystem">​</a></h3><p>If you have questions about Waku’s development roadmap or want to join a like-minded community focused on bringing peer-to-peer communications to millions of users, join the Waku <a href="https://discord.waku.org/" target="_blank" rel="noopener noreferrer">Discord</a> or follow us on <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">X</a>.</p><p>If the technology speaks to you, <a href="https://https://status.app/jobs/" target="_blank" rel="noopener noreferrer">check out our open job positions</a> or crack some of our <a href="https://github.org/waku-org/bounties" target="_blank" rel="noopener noreferrer">bounties</a>.</p><p>You can also help to ensure that we stay decentralised by <a href="https://docs.waku.org/guides/nwaku/run-node" target="_blank" rel="noopener noreferrer">running your own Waku Node!</a></p><p>To integrate Waku into your application, check the table below for the necessary links. You can always get further support from us on Discord.</p><table><tbody><tr><td></td><td><strong>Integrate Waku into your application</strong></td></tr><tr><td>docs</td><td><a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">https://docs.waku.org</a></td></tr><tr><td>nwaku</td><td><a href="https://github.com/waku-org/nwaku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/nwaku</a></td></tr><tr><td>browser (JS/TS)</td><td><a href="https://github.com/waku-org/js-waku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/js-waku</a></td></tr><tr><td>Go</td><td><a href="https://github.com/waku-org/go-waku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/go-waku</a></td></tr><tr><td>Rust</td><td><a href="https://github.com/waku-org/waku-rust-bindings" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/waku-rust-bindings</a></td></tr></tbody></table><p>We look forward to connecting and hearing your feedback on our roadmap.</p>]]></content>
        <author>
            <name>Amelia Trapp</name>
        </author>
        <author>
            <name>mf</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Scaling Waku: A Progress Update]]></title>
        <id>https://waku.org/scaling-waku-progress-update</id>
        <link href="https://waku.org/scaling-waku-progress-update"/>
        <updated>2023-09-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A glance into how Waku has progressed its scaling capabilities throughout 2023]]></summary>
        <content type="html"><![CDATA[<p>A glance into how Waku has progressed its scaling capabilities throughout 2023</p><p>As we move forward into the last months 2023, our primary goal has been to solidify the scalability of Waku protocols, focusing on Status Communities.</p><p>We have <a href="https://github.com/waku-org/pm/issues/12" target="_blank" rel="noopener noreferrer">set and reached</a> our milestone of providing a Waku network that can scale to approximately 10K <em>active</em> users in Status Communities. While continuing to provide <a href="https://status.im" target="_blank" rel="noopener noreferrer">Status</a> the required network services to make such a community viable, we believe that the research, protocols, tools, and solutions we are working on will allow the overall Waku network to scale to over a million nodes.</p><p>To meet Status's timeline for the Communities feature, the Waku team made some tough decisions that required tradeoffs in terms of decentralization and other design goals. However, this approach has allowed us to demonstrate the core stability and scalability of Waku's protocols, while continuously working towards long-term solutions that provide better anonymity, robustness, and decentralization features.</p><p>This article will continue diving deeper into what we did and where you can learn more about these topics. If you're already keen to get your hands dirty, we have recently published our upgraded <a href="https://docs.waku.org" target="_blank" rel="noopener noreferrer">Waku documentation</a>, allowing us to build faster, <a href="https://docs.waku.org/community/" target="_blank" rel="noopener noreferrer">together</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><ul><li><p><a href="#laying-the-theoretical-groundwork"> <strong>Theoretical: Laying the groundwork</strong></a></p><ul><li>Theoretical Analysis of Scaling Gossipsub.</li><li>Static Sharding</li></ul></li><li><p><a href="#bridging-theory-to-practice"><strong>Bridging theory to practice</strong></a></p><ul><li>Simulations</li><li>Status Telemetry Analysis</li></ul></li><li><p><a href="#hands-on-achievements"><strong>Hands-on achievements</strong></a></p><ul><li>Status MVP Delivery (Scaled Waku Communities to 10k)</li><li>Protocol Service Improvements<ul><li>PostgreSQL transition</li><li>Waku Peer Exchange</li><li>Filter Protocol Redesign</li></ul></li><li>Status DoS mitigation mechanism</li><li>Building for builders<ul><li>Waku Docs upgrade</li><li>C API</li></ul></li></ul></li><li><p><a href="#contribute-to-the-decentralisation-of-communication"><strong>Contribute to the decentralisation of communication</strong></a></p></li></ul><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="laying-the-theoretical-groundwork">Laying the theoretical groundwork<a href="#laying-the-theoretical-groundwork" class="hash-link" aria-label="Direct link to Laying the theoretical groundwork" title="Direct link to Laying the theoretical groundwork">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="theoretical-analysis-of-scaling-gossipsub">Theoretical Analysis of Scaling gossipsub<a href="#theoretical-analysis-of-scaling-gossipsub" class="hash-link" aria-label="Direct link to Theoretical Analysis of Scaling gossipsub" title="Direct link to Theoretical Analysis of Scaling gossipsub">​</a></h3><p>We started in Q1 by doing a <a href="https://hackmd.io/IYmyyUIdSEuRZ7WbYd6dng?view" target="_blank" rel="noopener noreferrer">theoretical analysis (mathematical modelling)</a> of GossipSub scaling under certain conditions.</p><p>The numbers for our message rates and sizes chosen for the model come from the telemetric analysis of typical traffic on significantly sizable Discord servers and existing Status Communities. From this, we conclude that the Waku Relay network can scale to 10,000 nodes per shard.</p><p>Suppose we further assume that each Status Community operates on a separate shard. In that case, each community can scale to 10,000 <em>active</em> relay-only users while bandwidth usage remains within a reasonable range for each user.</p><p>Realistically most community nodes are not active simultaneously, so this approach could scale to ~100,000 nodes per community if roughly 1/10th of users are active at any time.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="static-sharding">Static sharding<a href="#static-sharding" class="hash-link" aria-label="Direct link to Static sharding" title="Direct link to Static sharding">​</a></h3><p>Based on the analyses above, we published <a href="https://rfc.vac.dev/spec/57/" target="_blank" rel="noopener noreferrer">an RFC</a>, bringing together an integrated strategy to scale Status Communities based on static sharding. This requires manually selecting and configuring static shard(s) per community, with no sharing of shards between communities. Static sharding provides a simple way to achieve scalability with reasonable Denial of Service (DoS) protection (more on that below) but also requires some trade-offs in decentralisation and anonymity. Therefore, our longer-term strategy is to provide a way to auto-scale the Waku network with "autosharding" - this allows multiple applications and communities to share the same set of shards without intervening manually in the underlying message routing strategies.</p><p><a href="https://github.com/waku-org/research/issues/3" target="_blank" rel="noopener noreferrer">This Github issue</a> provides more information on our network strategy as we advance. In the near future you can expect an elaborated post on our strategy &amp; roadmap.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bridging-theory-to-practice">Bridging theory to practice<a href="#bridging-theory-to-practice" class="hash-link" aria-label="Direct link to Bridging theory to practice" title="Direct link to Bridging theory to practice">​</a></h2><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="simulations">Simulations<a href="#simulations" class="hash-link" aria-label="Direct link to Simulations" title="Direct link to Simulations">​</a></h3><p>To test our theoretical conclusions, the Distributed Systems Testing (DST) team ran extensive simulations using a Waku simulation tool built on the Kurtosis framework, <a href="https://github.com/vacp2p/wakurtosis" target="_blank" rel="noopener noreferrer">Wakurtosis</a>.</p><p>The DST team has recently published a <a href="https://docs.google.com/document/d/1U3bzlbk_Z3ZxN9tPAnORfYdPRWyskMuShXbdxCj4xOM/edit" target="_blank" rel="noopener noreferrer">summary report</a> detailing these conclusions about scalability, matching our theoretical expectations while showing that the nwaku client can deal with the resource overhead in a growing network.</p><p>While achieving full-scale simulations of 10,000 nodes posed challenges, initial simulations of up to 1000 nodes aligned with our mathematical models. This gave us confidence in the viability of our approach.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="status-telemetry-analysis">Status telemetry analysis<a href="#status-telemetry-analysis" class="hash-link" aria-label="Direct link to Status telemetry analysis" title="Direct link to Status telemetry analysis">​</a></h3><p>Having drawn theoretical conclusions under which a Waku Relay network would scale, we then experimented to verify our conclusions. Afterwards we performed a <a href="https://github.com/vacp2p/vac-book/blob/main/scratch/status-scaling/status-telemetry-analysis.md" target="_blank" rel="noopener noreferrer">telemetric analysis</a> of current Status Community traffic.</p><p>This allowed us to discover potential bottlenecks when sending large messages over Waku, determine major bandwith usage, and propose strategies to help Status Communities reasonably use Waku without compromising its scalability.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hands-on-achievements">Hands-on achievements<a href="#hands-on-achievements" class="hash-link" aria-label="Direct link to Hands-on achievements" title="Direct link to Hands-on achievements">​</a></h2><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="protocol-service-improvements">Protocol service improvements<a href="#protocol-service-improvements" class="hash-link" aria-label="Direct link to Protocol service improvements" title="Direct link to Protocol service improvements">​</a></h3><p>To cater to the needs of a growing network of users on diverse platforms, the team improved (and in some cases wholly redesigned) our existing protocols based on the lessons we have learned from dogfooding the Waku network. Of these, the changes to the store and filter protocols were the most significant.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="--postgresql-transition">- PostgreSQL transition<a href="#--postgresql-transition" class="hash-link" aria-label="Direct link to - PostgreSQL transition" title="Direct link to - PostgreSQL transition">​</a></h4><p> To be able to retrieve an increasing amount of large history queries &amp; messages from our store protocol, we have <a href="https://github.com/waku-org/pm/issues/4" target="_blank" rel="noopener noreferrer">transitioned</a> from a simple SQLite backend to a more robust PostgreSQL archive. This allows store nodes to serve multiple queries in parallel while improving message reliability through redundancy.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="--filter-protocol-redesign">- Filter protocol redesign<a href="#--filter-protocol-redesign" class="hash-link" aria-label="Direct link to - Filter protocol redesign" title="Direct link to - Filter protocol redesign">​</a></h4><p>The filter protocol allows resource-restricted devices to receive only a subset of messages routed in the network. We have redesigned <a href="https://rfc.vac.dev/spec/12/" target="_blank" rel="noopener noreferrer">the entire filter protocol</a> to be more robust and provide features requested by Waku-based applications, such as refreshing existing subscriptions.</p><p>This new filter protocol version is currently being dogfooded within both mobile and desktop production environment, and the initial feedback is prominently positive.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="--waku-peer-exchange">- <strong>Waku peer exchange</strong><a href="#--waku-peer-exchange" class="hash-link" aria-label="Direct link to --waku-peer-exchange" title="Direct link to --waku-peer-exchange">​</a></h4><p> We have designed and then created a discovery mechanism suitable for resource-restricted nodes called <a href="https://rfc.vac.dev/spec/34/" target="_blank" rel="noopener noreferrer">Waku peer exchange</a>. Work on all these protocols empowers nodes, including resource-restricted devices, to participate seamlessly, ensuring that the network remains accessible to all.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="connectivity-discovering-and-managing-peers">Connectivity: discovering and managing peers<a href="#connectivity-discovering-and-managing-peers" class="hash-link" aria-label="Direct link to Connectivity: discovering and managing peers" title="Direct link to Connectivity: discovering and managing peers">​</a></h3><p>A Waku network can only function well if we make it efficient for nodes to connect and interact.</p><p>During the first half of 2023, we spent significant effort improving how a node discovers peers and manages its connectivity to those peers. We have boosted a node's ability to differentiate between "good" and "bad" connections, including integrating <a href="https://github.com/libp2p/specs/blob/master/pubsub/gossipsub/gossipsub-v1.1.md#peer-scoring" target="_blank" rel="noopener noreferrer">gossipsub peer scoring</a>.</p><p>Thanks to the introduction of <a href="https://rfc.vac.dev/spec/57/#libp2p-rendezvous-and-circuit-relay" target="_blank" rel="noopener noreferrer">libp2p rendezvous discovery</a>, nodes behind restrictive NATs can now make themselves discoverable and connect to other nodes by coordinating a NAT hole punch via a <a href="https://rfc.vac.dev/spec/57/#libp2p-rendezvous-and-circuit-relay" target="_blank" rel="noopener noreferrer">circuit-relay connection</a>.</p><p>We have also modified <a href="https://rfc.vac.dev/spec/51/#discovery" target="_blank" rel="noopener noreferrer">discovery</a> methods such as <a href="https://github.com/ethereum/devp2p/blob/master/discv5/discv5.md" target="_blank" rel="noopener noreferrer">discv5</a>, to consider static sharding when filtering discovered nodes.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dos-protection">DoS protection<a href="#dos-protection" class="hash-link" aria-label="Direct link to DoS protection" title="Direct link to DoS protection">​</a></h3><p>One of the most important considerations of any Waku network deployment is protecting the network against spam and DOS attacks. While we are still working on productising a <a href="https://rfc.vac.dev/spec/17/" target="_blank" rel="noopener noreferrer">privacy-preserving spam protection mechanism based on rate-limiting nullifiers</a>, we focused in H1 on developing a simple DoS mitigation mechanism for Status Communities.</p><p>This requires all messages belonging to a community to be signed with a key distributed to all community members. Since static sharding ensures messages are only routed within a community, each relayer in the Waku network can validate that each routed message truly originated from within the community and discard those that did not.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="building-for-builders">Building for builders<a href="#building-for-builders" class="hash-link" aria-label="Direct link to Building for builders" title="Direct link to Building for builders">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="--docs">- Docs<a href="#--docs" class="hash-link" aria-label="Direct link to - Docs" title="Direct link to - Docs">​</a></h4><p>We are continuing to make building on Waku more accessible than ever. We have redesigned and improved our <a href="https://docs.waku.org/" target="_blank" rel="noopener noreferrer">docs website</a>, making it easier for you to get acquainted with our work.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="--c-api">- C API<a href="#--c-api" class="hash-link" aria-label="Direct link to - C API" title="Direct link to - C API">​</a></h4><p>The nwaku client has recently seen the introduction of <a href="https://github.com/waku-org/nwaku/tree/b9d5d28af5afcc2589357a132c9b5beb57202828/examples/cbindings" target="_blank" rel="noopener noreferrer">a C API</a> that can be seamlessly wrapped in multiple programming languages (see the <a href="https://github.com/waku-org/nwaku/tree/b9d5d28af5afcc2589357a132c9b5beb57202828/examples/python" target="_blank" rel="noopener noreferrer">Python wrapper</a> as an example), an efficient <a href="https://docs.waku.org/guides/nodes-and-sdks/" target="_blank" rel="noopener noreferrer">addition</a> to our existing languages and frameworks support. By simplifying the process of integrating nwaku as a service node into other applications, we are fostering an environment where more projects can actively build on Waku and contribute to the Waku network.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setting-the-stage-for-growth">Setting the stage for growth<a href="#setting-the-stage-for-growth" class="hash-link" aria-label="Direct link to Setting the stage for growth" title="Direct link to Setting the stage for growth">​</a></h2><p>This post provides a glimpse into the Waku Team's progress in the first half of 2023.</p><p>Our sights are currently set on taking what we have learned and building a <a href="https://github.com/waku-org/research/issues/1" target="_blank" rel="noopener noreferrer">viable public Waku Network</a> that can scale to even larger numbers while maintaining our core <a href="https://status.im/about/#our-principles" target="_blank" rel="noopener noreferrer">principles</a> of open-access, privacy-preservation, decentralisation, and transparency about trade-offs.</p><p>Conquering those research &amp; development challenges will not only scale Waku, but will play a significant role in growing and scaling Status Communities. Where we now have made certain trade-offs, our end-goal and principles are aligned in our end-goals, you'll soon read more about our goals and milestones in our upcoming Roadmap.</p><p>As a team, we remain dedicated to this mandate while acknowledging the vast involvement of community members and collaborators who contribute to our journey.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contribute-to-the-decentralisation-of-communication"><strong>Contribute to the decentralisation of communication.</strong><a href="#contribute-to-the-decentralisation-of-communication" class="hash-link" aria-label="Direct link to contribute-to-the-decentralisation-of-communication" title="Direct link to contribute-to-the-decentralisation-of-communication">​</a></h2><p>Help us ensure that we are staying decentralised by <a href="https://docs.waku.org/guides/run-nwaku-node" target="_blank" rel="noopener noreferrer">running your own Waku Node!</a></p><table><thead><tr><th></th><th>Integrate Waku in your application</th></tr></thead><tbody><tr><td>nwaku</td><td><a href="https://github.com/waku-org/nwaku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/nwaku</a></td></tr><tr><td>Browser (JS/TS)</td><td><a href="https://github.com/waku-org/js-waku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/js-waku</a></td></tr><tr><td>Go</td><td><a href="https://github.com/waku-org/go-waku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/go-waku</a></td></tr><tr><td>Rust</td><td><a href="https://github.com/waku-org/waku-rust-bindings" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/waku-rust-bindings</a></td></tr><tr><td>More…</td><td><a href="https://docs.waku.org/guides/nodes-and-sdks" target="_blank" rel="noopener noreferrer">https://docs.waku.org/guides/nodes-and-sdks</a></td></tr></tbody></table><p>Soon we will also release our upcoming roadmap.</p><p>Stay tuned, and follow our <a href="https://twitter.com/Waku_org" target="_blank" rel="noopener noreferrer">Twitter</a> to keep yourself updated on new launches. Say hello to us on <a href="https://discord.gg/GdJJh38sZR" target="_blank" rel="noopener noreferrer">Discord</a>, <a href="https://jobs.status.im/" target="_blank" rel="noopener noreferrer">join our team</a>, or crack some of our <a href="https://github.org/waku-org/bounties" target="_blank" rel="noopener noreferrer">bounties</a>  --- No need to remain shy!</p><hr><p><em><code>Written by Mf &amp; Hanno 09/2023</code></em></p>]]></content>
        <author>
            <name>mf</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Device Pairing in Js-waku and Go-waku]]></title>
        <id>https://waku.org/device-pairing-in-js-waku-and-go-waku</id>
        <link href="https://waku.org/device-pairing-in-js-waku-and-go-waku"/>
        <updated>2023-04-24T12:00:00.000Z</updated>
        <summary type="html"><![CDATA[Device pairing and secure message exchange using Waku and noise protocol.]]></summary>
        <content type="html"><![CDATA[<p>Device pairing and secure message exchange using Waku and noise protocol.</p><p>As the world becomes increasingly connected through the internet, the need for secure and reliable communication becomes paramount. In <a href="https://vac.dev/wakuv2-noise" target="_blank" rel="noopener noreferrer">this article</a> it is described how the Noise protocol can be used as a key-exchange mechanism for Waku.</p><p>Recently, this feature was introduced in <a href="https://github.com/waku-org/js-noise" target="_blank" rel="noopener noreferrer">js-waku</a> and <a href="https://github.com/waku-org/go-waku" target="_blank" rel="noopener noreferrer">go-waku</a>, providing a simple API for developers to implement secure communication protocols using the Noise Protocol framework. These open-source libraries provide a solid foundation for building secure and decentralized applications that prioritize data privacy and security.</p><p>This functionality is designed to be simple and easy to use, even for developers who are not experts in cryptography. The library offers a clear and concise API that abstracts away the complexity of the Noise Protocol framework and provides an straightforward interface for developers to use. Using this, developers can effortlessly implement secure communication protocols on top of their JavaScript and Go applications, without having to worry about the low-level details of cryptography.</p><p>One of the key benefits of using Noise is that it provides end-to-end encryption, which means that the communication between two parties is encrypted from start to finish. This is essential for ensuring the security and privacy of sensitive information</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="device-pairing">Device Pairing<a href="#device-pairing" class="hash-link" aria-label="Direct link to Device Pairing" title="Direct link to Device Pairing">​</a></h3><p>In today's digital world, device pairing has become an integral part of our lives. Whether it's connecting our smartphones with other computers or web applications, the need for secure device pairing has become more crucial than ever. With the increasing threat of cyber-attacks and data breaches, it's essential to implement secure protocols for device pairing to ensure data privacy and prevent unauthorized access.</p><p>To demonstrate how device pairing can be achieved using Waku and Noise, we have examples available at <a href="https://examples.waku.org/noise-js/" target="_blank" rel="noopener noreferrer">https://examples.waku.org/noise-js/</a>. You can try pairing different devices, such as mobile and desktop, via a web application. This can be done by scanning a QR code or opening a URL that contains the necessary data for a secure handshake.</p><p>The process works as follows:</p><p>Actors:</p><ul><li>Alice the initiator</li><li>Bob the responder</li></ul><ol><li>The first step in achieving secure device pairing using Noise and Waku is for Bob generate the pairing information which could be transmitted out-of-band. For this, Bob opens <a href="https://examples.waku.org/noise-js/" target="_blank" rel="noopener noreferrer">https://examples.waku.org/noise-js/</a> and a QR code is generated, containing the data required to do the handshake. This pairing QR code is timeboxed, meaning that after 2 minutes, it will become invalid and a new QR code must be generated</li><li>Alice scans the QR code using a mobile phone. This will open the app with the QR code parameters initiating the handshake process which is described in <a href="https://rfc.vac.dev/spec/43/#protocol-flow" target="_blank" rel="noopener noreferrer">43/WAKU2-DEVICE-PAIRING</a>. These messages are exchanged between two devices over Waku to establish a secure connection. The handshake messages consist of three main parts: the initiator's message, the responder's message, and the final message, which are exchanged to establish a secure connection. While using js-noise, the developer is abstracted of this process, since the messaging happens automatically depending on the actions performed by the actors in the pairing process.</li><li>Both Alice and Bob will be asked to verify each other's identity. This is done by confirming if an 8-digits authorization code match in both devices. If both actors confirm that the authorization code is valid, the handshake concludes succesfully</li><li>Alice and Bob receive a set of shared keys that can be used to start exchanging encrypted messages. The shared secret keys generated during the handshake process are used to encrypt and decrypt messages sent between the devices. This ensures that the messages exchanged between the devices are secure and cannot be intercepted or modified by an attacker.</li></ol><p>The above example demonstrates device pairing using js-waku. Additionally, You can also try building and experimenting with other noise implementations like nwaku, or go-waku, with an example available at <a href="https://github.com/waku-org/go-waku/tree/master/examples/noise" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/go-waku/tree/master/examples/noise</a> in which the same flow described before is done with Bob (the receiver) using go-waku instead of js-waku.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h3><p>With its easy to use API built on top of the Noise Protocol framework and the LibP2P networking stack, if you are a developer looking to implement secure messaging in their applications that are both decentralized and censorship resistant, Waku is definitely an excellent choice worth checking out!</p><p>Waku is also Open source with a MIT and APACHEv2 licenses, which means that developers are encouraged to contribute code, report bugs, and suggest improvements to make it even better.</p><p>Don't hesitate to try the live example at <a href="https://examples.waku.org/noise-js" target="_blank" rel="noopener noreferrer">https://examples.waku.org/noise-js</a> and build your own webapp using <a href="https://github.com/waku-org/js-noise" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/js-noise</a>, <a href="https://github.com/waku-org/js-waku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/js-waku</a> and <a href="https://github.com/waku-org/go-waku" target="_blank" rel="noopener noreferrer">https://github.com/waku-org/go-waku</a>. This will give you a hands-on experience of implementing secure communication protocols using the Noise Protocol framework in a practical setting. Happy coding!</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h3><ul><li><a href="https://vac.dev/wakuv2-noise" target="_blank" rel="noopener noreferrer">Noise handshakes as key-exchange mechanism for Waku</a></li><li><a href="https://rfc.vac.dev/spec/35/" target="_blank" rel="noopener noreferrer">Noise Protocols for Waku Payload Encryption</a></li><li><a href="https://rfc.vac.dev/spec/37/" target="_blank" rel="noopener noreferrer">Session Management for Waku Noise</a></li><li><a href="https://rfc.vac.dev/spec/43/" target="_blank" rel="noopener noreferrer">Device pairing and secure transfers with Noise</a></li><li><a href="https://github.com/waku-org/go-waku/tree/master/examples/noise" target="_blank" rel="noopener noreferrer">go-waku Noise's example</a></li><li><a href="https://github.com/waku-org/js-waku-examples/tree/master/examples/noise-js" target="_blank" rel="noopener noreferrer">js-waku Noise's example</a></li><li><a href="https://github.com/waku-org/js-noise/" target="_blank" rel="noopener noreferrer">js-noise</a></li><li><a href="https://github.com/waku-org/js-noise/" target="_blank" rel="noopener noreferrer">go-noise</a></li></ul>]]></content>
        <author>
            <name>Richard</name>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[The Future of Waku Network: Scaling, Incentivization, and Heterogeneity]]></title>
        <id>https://waku.org/future-of-waku-network</id>
        <link href="https://waku.org/future-of-waku-network"/>
        <updated>2023-04-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Learn how the Waku Network is evolving through scaling, incentivization, and diverse ecosystem development and what the future might look like.]]></summary>
        <content type="html"><![CDATA[<p>Learn how the Waku Network is evolving through scaling, incentivization, and diverse ecosystem development and what the future might look like.</p><p>Waku is preparing for production with a focus on the Status Communities use case. In this blog post, we will provide an
overview of recent discussions and research outputs, aiming to give you a better understanding of how the Waku network
may look like in terms of scaling and incentivization.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dos-mitigation-for-status-communities">DOS Mitigation for Status Communities<a href="#dos-mitigation-for-status-communities" class="hash-link" aria-label="Direct link to DOS Mitigation for Status Communities" title="Direct link to DOS Mitigation for Status Communities">​</a></h2><p>Waku is actively exploring DOS mitigation mechanisms suitable for Status Communities. While RLN
(Rate Limiting Nullifiers) remains the go-to DOS protection solution due to its privacy-preserving and
censorship-resistant properties, there is still more work to be done. We are excited to collaborate with PSE
(Privacy &amp; Scaling Explorations) in this endeavor. Learn more about their latest progress in this <a href="https://twitter.com/CPerezz19/status/1640373940634939394?s=20" target="_blank" rel="noopener noreferrer">tweet</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="a-heterogeneous-waku-network">A Heterogeneous Waku Network<a href="#a-heterogeneous-waku-network" class="hash-link" aria-label="Direct link to A Heterogeneous Waku Network" title="Direct link to A Heterogeneous Waku Network">​</a></h2><p>As we noted in a previous <a href="https://forum.vac.dev/t/waku-payment-models/166/3" target="_blank" rel="noopener noreferrer">forum post</a>, Waku's protocol
incentivization model needs to be flexible to accommodate various business models. Flexibility ensures that projects
can choose how they want to use Waku based on their specific needs.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reversing-the-incentivization-question">Reversing the Incentivization Question<a href="#reversing-the-incentivization-question" class="hash-link" aria-label="Direct link to Reversing the Incentivization Question" title="Direct link to Reversing the Incentivization Question">​</a></h3><p>Traditionally, the question of incentivization revolves around how to incentivize operators to run nodes. We'd like to
reframe the question and instead ask, "How do we pay for the infrastructure?"</p><p>Waku does not intend to offer a free lunch.
Ethereum's infrastructure is supported by transaction fees and inflation, with validators receiving rewards from both sources.
However, this model does not suit a communication network like Waku.
Users and platforms would not want to pay for every single message they send. Additionally, Waku aims to support instant
ephemeral messages that do not require consensus or long-term storage.</p><p>Projects that use Waku to enable user interactions, whether for chat messages, gaming, private DeFi, notifications, or
inter-wallet communication, may have different value extraction models. Some users might provide services for the
project and expect to receive value by running nodes, while others may pay for the product or run infrastructure to
contribute back. Waku aims to support each of these use cases, which means there will be various ways to "pay for the
infrastructure."</p><p>In <a href="https://vac.dev/building-privacy-protecting-infrastructure" target="_blank" rel="noopener noreferrer">his talk</a>, Oskar addressed two strategies: RLN and service credentials.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rln-and-service-credentials">RLN and Service Credentials<a href="#rln-and-service-credentials" class="hash-link" aria-label="Direct link to RLN and Service Credentials" title="Direct link to RLN and Service Credentials">​</a></h3><p>RLN enables DOS protection across the network in a privacy-preserving and permission-less manner: stake in a contract,
and you can send messages.</p><p>Service credentials establish a customer-provider relationship. Users might pay to have messages they are interested in
stored and served by a provider. Alternatively, a community owner could pay a service provider to host their community.</p><p>Providers could offer trial or limited free services to Waku users, similar to Slack or Discord. Once a trial is expired or outgrown,
a community owner could pay for more storage or bandwidth, similar to Slack's model.
Alternatively, individual users could contribute financially, akin to Discord's Server Boost, or by sharing their own
resources with their community.</p><p>We anticipate witnessing various scenarios across the spectrum: from users sharing resources to users paying for access to the network and everything in between.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="waku-network-ethereum-or-cosmos">Waku Network: Ethereum or Cosmos?<a href="#waku-network-ethereum-or-cosmos" class="hash-link" aria-label="Direct link to Waku Network: Ethereum or Cosmos?" title="Direct link to Waku Network: Ethereum or Cosmos?">​</a></h2><p>Another perspective is to consider whether the Waku network will resemble Ethereum or Cosmos.</p><p>For those not familiar with the difference between both, in a very concise manner:</p><ul><li>Ethereum is a set of protocols and software that are designed to operate on one common network and infrastructure</li><li>Cosmos is a set of protocols and software (SDKs) designed to be deployed in separate yet interoperable networks and infrastructures by third parties</li></ul><p>We want Waku to be decentralized to provide censorship resistance and privacy-preserving communication.
If each application has to deploy its own network, we will not achieve this goal.
Therefore, we aim Waku to be not only an open source set of protocols, but also a shared infrastructure that anyone can leverage to build applications on top, with some guarantees in terms of decentralization and anonymity.
This approach is closer in spirit to Ethereum than Cosmos.
Do note that, similarly to Ethereum, anyone is free to take Waku software and protocols and deploy their own network.</p><p>Yet, because of the difference in the fee model, the Waku Network is unlikely to be as unified as Ethereum's.
We currently assume that there will be separate gossipsub networks with different funding models.
Since there is no consensus on Waku, each individual operator can decide which network to support, enabling Waku to maintain its permission-less property.</p><p>Most likely, the Waku network will be heterogeneous, and node operators will choose the incentivization model they prefer.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scalability-and-discovery-protocols">Scalability and Discovery Protocols<a href="#scalability-and-discovery-protocols" class="hash-link" aria-label="Direct link to Scalability and Discovery Protocols" title="Direct link to Scalability and Discovery Protocols">​</a></h2><p>To enable scalability, the flow of messages in the Waku network will be divided in shards,
so that not every node has to forward every message of the whole network.
Discovery protocols will facilitate users connecting to the right nodes to receive the messages they are interested in.</p><p>Different shards could be subject to a variety of rate limiting techniques (globally, targeted to that shard or something in-between).</p><p>Marketplace protocols may also be developed to help operators understand how they can best support the network and where
their resources are most needed. However, we are still far from establishing or even assert that such a marketplace will be needed.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="open-problems">Open Problems<a href="#open-problems" class="hash-link" aria-label="Direct link to Open Problems" title="Direct link to Open Problems">​</a></h2><p>Splitting traffic between shards reduces bandwidth consumption for every Waku Relay node.
This improvement increases the likelihood that users with home connections can participate and contribute to the gossipsub network without encountering issues.</p><p>However, it does not cap traffic.
There are still open problems regarding how to guarantee that someone can use Waku with lower Internet bandwidth or run critical services, such as a validation node, on the same connection.</p><p>We have several ongoing initiatives:</p><ul><li>Analyzing the Status Community protocol to confirm efficient usage of Waku <a href="https://github.com/vacp2p/research/issues/177" target="_blank" rel="noopener noreferrer">[4]</a></li><li>Simulating the Waku Network to measure actual bandwidth usage <a href="https://github.com/waku-org/pm/issues/2" target="_blank" rel="noopener noreferrer">[5]</a></li><li>Segregating chat messages from control and media messages <a href="https://rfc.vac.dev/spec/57/#control-message-shards" target="_blank" rel="noopener noreferrer">[6]</a></li></ul><p>The final solution will likely be a combination of protocols that reduce bandwidth usage or mitigate the risk of DOS attacks, providing flexibility for users and platforms to enable the best experience.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-evolving-waku-network">The Evolving Waku Network<a href="#the-evolving-waku-network" class="hash-link" aria-label="Direct link to The Evolving Waku Network" title="Direct link to The Evolving Waku Network">​</a></h2><p>The definition of the "Waku Network" will likely change over time. In the near future, it will transition from a single
gossipsub network to a sharded set of networks unified by a common discovery layer. This change will promote scalability
and allow various payment models to coexist within the Waku ecosystem.</p><p>In conclusion, the future of Waku Network entails growth, incentivization, and heterogeneity while steadfastly
maintaining its core principles. As Waku continues to evolve, we expect it to accommodate a diverse range of use cases
and business models, all while preserving privacy, resisting censorship, avoiding surveillance, and remaining accessible
to devices with limited resources.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2><ol><li><a href="https://rfc.vac.dev/spec/51/" target="_blank" rel="noopener noreferrer">51/WAKU2-RELAY-SHARDING</a></li><li><a href="https://rfc.vac.dev/spec/57/" target="_blank" rel="noopener noreferrer">57/STATUS-Simple-Scaling</a></li><li><a href="https://rfc.vac.dev/spec/58/" target="_blank" rel="noopener noreferrer">58/RLN-V2</a></li><li><a href="https://github.com/vacp2p/research/issues/177" target="_blank" rel="noopener noreferrer">Scaling Status Communities: Potential Problems</a></li><li><a href="https://github.com/waku-org/pm/issues/2" target="_blank" rel="noopener noreferrer">Waku Network Testing</a></li><li><a href="https://rfc.vac.dev/spec/57/#control-message-shards" target="_blank" rel="noopener noreferrer">51/WAKU2-RELAY-SHARDING: Control Message Shards</a></li></ol>]]></content>
        <author>
            <name>Franck</name>
        </author>
    </entry>
</feed>